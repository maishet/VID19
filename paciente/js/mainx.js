/*******library.js******/
"use strict";var fx=function(){return{comet:function(p,q,u,v){var x=new XMLHttpRequest;return x.open(p,q,!0),x.setRequestHeader("Content-type","application/x-www-form-urlencoded"),x.onreadystatechange=function(){4==x.readyState&&(200==x.status?"function"==typeof u&&u(x.response):"function"==typeof v&&v(x.response))},x}}}(),fs=fs||{};var h=[{name:"sec",b:60,a:1},{name:"min",b:3600,a:60},{name:"hr",b:86400,a:3600},{name:"day",b:604800,a:86400},{name:"week",b:2629743,a:604800},{name:"month",b:31556926,a:2629743},{name:"year",b:null,a:31556926}],lib={getDate:function(j){var m=new Date(1E3*j);j=(new Date-m)/1E3;var q,p=0;for(55>j&&"Just now";q=h[p++];)if(j<q.b||!q.b)return j=" "+m.toLocaleTimeString().replace(/:\d+ /," "),4==p||5==p||6==p?2<j?m.toLocaleString("en-US",{month:"short"})+" "+m.getUTCDate()+" at  "+m.toLocaleTimeString().replace(/:\d+ /," "):"Yesterday at "+m.toLocaleTimeString().replace(/:\d+ /," "):7==p?m.toLocaleString("en-US",{month:"short"})+" "+m.getUTCDate()+", "+m.getUTCFullYear()+" at  "+m.toLocaleTimeString().replace(/:\d+ /," "):j},id:function(j){return document.getElementById(j)},f:function(j,m){return j.lastModifiedDate=new Date,j.name=m,j},cn:function(j,m){return m.getElementsByClassName(j)},t:function(j,m){return m.getElementsByTagName(j)},pn:function(j){return j.parentNode},p2:function(j){return j.parentNode.parentNode},ch:function(j){return j.children},q:function(j){return j.getBoundingClientRect()},$:function(j,m,p,q,u){return function(){var x=fx.comet.apply(fx,[p,j,q,u]);return x.send(m),x}()},o:function(j,m){return j.classList.toggle(m)},a:function(j,m){return j.classList.add(m)},r:function(j,m){return j.classList.remove(m)},i:function(j){return j.innerText},z:function(j){return j.innerHTML},d:function(j){function m(B,C){p+=(0<p.length?"&":"")+encodeURIComponent(B).replace(/\+/g,"%2B")+"="+encodeURIComponent(C?C:"").replace(/\+/g,"%2B")}for(var p="",q=j.elements,u=0;u<q.length;u++){var v=q[u],x=v.type.toUpperCase(),y=v.name;if(y)if("TEXT"==x||"TEXTAREA"==x||"PASSWORD"==x||"BUTTON"==x||"RESET"==x||"SUBMIT"==x||"FILE"==x||"IMAGE"==x||"HIDDEN"==x)m(y,v.value);else if("CHECKBOX"==x&&v.checked)m(y,v.value?v.value:"On");else if("RADIO"==x&&v.checked)m(y,v.value);else if(-1!=x.indexOf("SELECT"))for(var A,z=0;z<v.options.length;z++)A=v.options[z],A.selected&&m(y,A.value?A.value:A.text)}return p},h:function(j){var m=document.createElement("div");return m.innerHTML=j,m.getElementsByTagName("*")[0]},h2:function(j){var m=document.createElement("tr");return m.innerHTML=j,m.getElementsByTagName("*")[0]},p:function(j){var m=0,p=0;do m+=j.offsetTop||0,p+=j.offsetLeft||0,j=j.offsetParent;while(j);return{t:m,e:p}},n:function(j){"undefined"==typeof j.stopPropagation?j.cancelBubble=!0:j.stopPropagation()},v:function(j){j.preventDefault?j.preventDefault():j.returnValue=!1},j:function(j,m){for(var p=[],q=0;q<m.length;q++)p.push(j.getElementsByClassName(m[q])[0]);return p},j2:function(j,m){for(var p=[],q=0;q<m.length;q++){for(var u=j.getElementsByClassName(m[q]),v=[],x=0;x<u.length;x++)v.push(u[x]);p.push(v)}return p},listen:function(j,m,p){j.addEventListener?j.addEventListener(m,p,!1):j.attachEvent("on"+m,p)},unlisten:function(j,m,p){j.removeEventListener?j.removeEventListener(m,p,!1):j.detachEvent("on"+m,p)},b:function(j){function m(B,C){var D=encodeURIComponent(B).replace(/\+/g,"%2B"),F=encodeURIComponent(C?C:"").replace(/\+/g,"%2B");p[D]=F,console.log(p)}for(var p={},q=j.elements,u=0;u<q.length;u++){var v=q[u],x=v.type.toUpperCase(),y=v.name;if(y)if("TEXT"==x||"TEXTAREA"==x||"PASSWORD"==x||"BUTTON"==x||"RESET"==x||"SUBMIT"==x||"FILE"==x||"IMAGE"==x||"HIDDEN"==x)m(y,v.value);else if("CHECKBOX"==x&&v.checked)m(y,v.value?v.value:"On");else if("RADIO"==x&&v.checked)m(y,v.value);else if(-1!=x.indexOf("SELECT"))for(var A,z=0;z<v.options.length;z++)A=v.options[z],A.selected&&m(y,A.value?A.value:A.text)}return p}};function getCookie(j){var m="",p=[];p=document.cookie.split("; ");for(var u,q=0;q<p.length;q++)u=[],u=p[q].split("="),u[0]==j&&(m=unescape(u[1]));return m}
/******end****/

/*******sticker.js******/
(function(d){'use strict';var p,y,C,E,F,G,I,J,L,N,O,P,R,S,T,V,W,o=0,B=B||{},D=[],M=M||{},U=!1,X=['_6if','_5r89','_c-mq','_5r88','_c-q2','store'],$=['var t = o=>`<div class="_5r8h" data-id="${o.f[0]}"><div aria-label="Oakley in Action" class="_5r8i" tabindex="0" style="cursor: pointer; height: ${o.f[1]}px; width: ${o.f[2]}px; background-image: url(${o.f[3]}); background-size: ${o.f[4]}px ${o.f[5]}px; background-position: -6px -6px;"></div></div>`','<div class="_c-e-1 _C-e-2 uiToggle"> <div class="_c-es1"> <div class="_c-es2" > <div class="_c-es3"> <div class="_5r85"> <div class="_c-q1"  > <div class="_c-q2" > <!-- begin of arow and store --><a aria-label="Sticker Store" class="_c-eq rfloat store" data-hover="tooltip"><i class="_5r87 s_ a_ _p" ></i></a> <!-- arow end --> <div class="_5r88"> <div class="_5r89">   <div class="_5r81"> </div></div></div> </div> </div> </div> </div> <div class="_c-mq" ></div> </div> </div><i class="_53io" style="left: 100%; margin-left: -23px;"></i><a class="accessible_elem layer_close_elem" href="#" role="button">Close popup and return</a</div>','var t = o=>`<div class="uiContextualLayerPositioner uiLayer emoticons" id="js_3t"   data-ownerid="js_3v"><div class="uiContextualLayer _5v-0 _53il uiContextualLayerBelowRight" style="right: 0px;bottom:0px">${o.f}</div></div>`','var t = o=>`<a aria-label="${o.f[0]}" class="_5r8a _eb3" data-id="${o.f[1]}" data-hover="tooltip" tabindex="0" id="js_kr"><img class=" _5r8c _1viy img" src="${o.f[2]}"></a>`','<div class="_5r81"></div>','<a class="_37wu lfloat" role="button" tabindex="0"><i class="_5r84 img sp_X6gBNhfcIKw sx_f606ae" alt=""></i></a>','<a class="_37wv rfloat" role="button" tabindex="0"><i class="_5r84 img sp_X6gBNhfcIKw sx_ebf6f1" alt=""></i></a>','var t = o=>`<div class="_5r8h" data-id="${o.f[0]}"><div aria-label="Oakley in Action" class="_5r8i" tabindex="0" style="cursor: pointer; height: ${o.f[1]}px; width: ${o.f[2]}px; background-image: url(${o.f[3]});"></div></div>`','<div class="_c-mq"><div class="_5r8l"><div class="_e0r"><span class="img _55ym _55yq _55yo" role="progressbar" aria-valuetext="Loading..." aria-busy="true" aria-valuemin="0" aria-valuemax="100"></span></div></div></div>','<table cols="4" class="uiGrid _51mz _5f0n" cellspacing="0" cellpadding="0"><tbody class="_6if"></tbody></table>'];N=function(_){for(var aa in M)delete M[aa];for(var ba in _){var ca=eval;ca($[3]);var da='i'+O(M);M[da]={},M[da].id=_[ba].id;var ea=[_[ba].id,_[ba].name,_[ba].icon],fa=lib.h(t({f:ea}));0==ba&&(fa.classList.add('_5r8b'),lib.$('sticker.php','id='+_[ba].id,'POST',function(ha){T[2].innerHTML=$[9],T[0]=R(T[2],[X[0]])[0],p(JSON.parse(ha))})),M[da].h=fa;let ga=_[ba];fa.onclick=function(){for(var ha in M)M[ha].h.classList.remove('_5r8b');this.classList.add('_5r8b'),T[2].innerHTML=$[8],lib.$('sticker.php','id='+ga.id,'POST',function(ia){T[2].innerHTML=$[9],T[0]=R(T[2],[X[0]])[0],p(JSON.parse(ia))})}}},L=function(_,aa,ba){var ca,da=aa>ba?-10:10;ca=setInterval(function(){(aa>ba&&aa+da<ba||aa<ba&&aa+da>ba)&&(da=ba-aa),aa==ba&&clearInterval(ca),aa+=da,_.style.left=-aa+'px'},15)},P=function(_,aa,ba,ca,da){S=[_,aa,ba];var ea=eval,fa=0,ga=[];ea($[2]);var ha=$[1];V=lib.h(t({f:ha})),lib.listen(V,'click',function(la){lib.n(la)}),aa.appendChild(V),'function'==typeof ca&&ca(V),T=R(V,X),lib.listen(T[5],'click',function(){'function'==typeof da&&da(V)}),lib.$('package.php',null,'POST',function(la){N(JSON.parse(la));var na,ma=0;for(var oa in ga=[],T[1].innerHTML='',M)0==ma&&(na=lib.h($[4]),T[1].appendChild(na),ga.push(na)),na.appendChild(M[oa].h),ma++,4==ma&&(ma=0)});var ia=lib.h($[5]),ja=lib.h($[6]);lib.listen(ia,'click',function(){if(0<fa){fa--;var ma=ga[0].offsetWidth*(fa+1),na=ga[0].offsetWidth*fa;L(T[1],ma,na)}}),lib.listen(ja,'click',function(){if(fa<ga.length&&1<ga.length){fa++;var ma=ga[0].offsetWidth*(fa-1),na=ga[0].offsetWidth*fa;L(T[1],ma,na)}}),T[4].insertBefore(ia,T[3]),T[4].insertBefore(ja,T[3]);var ha=lib.q(aa),ka=lib.q(_);V.style.top=ka.top-ha.top+'px',V.style.width=ka.left+'px',V.style.right=ha.right-ka.right+'px'},p=function(_){T[0].innerHTML='',U=!1,o=0;var aa=0;aa=4>_.length?4-_.length:_.length%4;for(var ba=0;ba<_.length+aa;ba++){if(4==o&&(U=!1,o=0),!1==U){var ca=document.createElement('tr');T[0].appendChild(ca),U=!0}var da=document.createElement('td');ca.appendChild(da);var ea='i'+O(B);ba<_.length&&(B[ea]={},B[ea].e=ca,B[ea].id=_[ba].id,B[ea].packName=_[ba].packName,B[ea].height=_[ba].height,B[ea].width=_[ba].width,B[ea].paddedSpriteURI=_[ba].paddedSpriteURI,B[ea].spriteURI=_[ba].spriteURI,B[ea].framesPerCol=_[ba].framesPerCol,B[ea].framesPerRow=_[ba].framesPerRow,B[ea].frameCount=_[ba].frameCount,B[ea].frameRate=_[ba].frameRate,y(_[ba],da,B[ea],!1)),o++}},E=function(_,aa){return!!_.hasOwnProperty(aa)},y=function(_,aa,ba,ca){if(E(_,'spriteURI')){var da=[_.id,_.height,_.width,_.spriteURI],ea=eval;ea($[7]);var fa=lib.h(t({f:da}));aa.appendChild(fa),(1<_.framesPerCol||1<_.framesPerRow)&&I(_,fa,!0,ca),lib.listen(fa.children[0],'click',function(){var ga=this.cloneNode(1);S&&'function'==typeof S[2]&&S[2](ga,_),I(_,ga,!1,ca)})}},J=function(_,aa,ba,ca){var da=[_.id,_.height,_.width,_.paddedSpriteURI],ea=new Image;ea.onload=function(){return function(){var fa=ea.height-(ea.height-_.height*_.framesPerCol-12*_.framesPerCol),ga=ea.width-(ea.width-_.width*_.framesPerRow-12*_.framesPerRow);da.push(ga,fa);var ha=eval;ha($[0]);var ia=lib.h(t({f:da})),ja=aa;ja.innerHTML='',ja.appendChild(ia);for(var ma,ka=[],la=0;8>la;la++){ma=0;for(var oa,na=0;na<_.framesPerCol;na++){oa=na*_.width+6*(2*na)+6;for(var qa=0;qa<_.framesPerRow;qa++)if(ma++,ma<=_.frameCount){var ha=qa*_.width+6*(2*qa)+6;ka.push([-ha,-oa])}}}ba&&(ia.children[0].Nx={sn:ka,e:_,ax:aa,cloned:ca},lib.listen(ia.children[0],'click',C)),G(ia.children[0],ka,_.frameRate,aa)}}(),ea.src=_.paddedSpriteURI},C=function(){if(!1===this.Nx.cloned){var aa=this.cloneNode(1);aa.Nx={},aa.Nx.cloned=!0;var ba=this.Nx,ca=ba.e,da=ba.sn,ea=ba.ax;aa.removeEventListener('click',C),S&&'function'==typeof S[2]&&S[2](aa,ca),G(aa,da,ca.frameRate,ea)}},I=function(_,aa,ba,ca){lib.listen(aa.parentNode,'mouseenter',function(){-1==D.indexOf(this)&&(D.push(this),J(_,this,ba,ca))})},G=function(_,aa,ba,ca){function da(fa){setTimeout(function(){if(_.style.backgroundPosition=fa[ea][0]+'px '+fa[ea][1]+'px',ea++,ea<fa.length)da(fa);else{var ga=D.indexOf(ca);D.splice(ga,1)}},ba)}var ea=0;da(aa)},R=function(_,aa){for(var ba=[],ca=0;ca<aa.length;ca++)ba.push(_.getElementsByClassName(aa[ca])[0]);return ba},O=function(_){return Object.keys(_).length},d.es=function(_){p(_)},d.it=function(_,aa,ba,ca,da,ea){W=da,F()&&P(_,aa,ba,ca,ea)},d.rs=function(_,aa,ba,ca){y(_,aa,ba,ca,!0)},d.clicked=function(){F()},F=function(){return!V||(V.parentNode.removeChild(V),'function'==typeof W&&W(),V=!1,!1)},d.nx=M})(fs),document.addEventListener('click',function(){fs.clicked()});
/******end****/

/*******emojiS2.js******/
(function(c){"use strict";var d,g,k,p,q,r,t,u,w,y,z,A,B,C,D,E,G,H,I=/([\ud800-\udbff])([\udc00-\udfff])/g,J=["((^<|\\s<)+(3\\s|3$))","((^:|\\s:)+(p\\s|p$))","((^:|\\s:)+(P\\s|P$))","((^;|\\s;)+(p\\s|p$))","((^:|\\s:)+(\\(\\s|\\($))","((^:|\\s:)+(\\)\\s|\\)$))","((^:\\'|\\s:\\')+(\\(\\s|\\($))","((^:|\\s:)+(D\\s|D$))","((^:|\\s:)+(\\|\\s|\\|$))","((^:|\\s:)+(O\\s|O$))","((^:|\\s:)+(o\\s|o$))","((^-|\\s-)+(_-\\s|_-$))","((^\\^|\\s\\^)+(_\\^\\s|_\\^$))","((^O|\\sO)+(:\\)\\s|:\\)$))","((^3|\\s3)+(:\\)\\s|:\\)$))","((^;|\\s;)+(\\)\\s|\\)$))","((^>|\\s>)+(:O\\s|:O$))","((^:|\\s:)+(\\*\\s|\\*$))","((^8|\\s8)+(-\\)\\s|-\\)$))","((^>|\\s>)+(:\\(\\s|:\\($))","((^:|\\s:)+(\\/\\s|:\\/$))","((^<|\\s<)+(\\(\"\\)\\s|\\(\"\\)$)),","((^:|\\s:)+(poop:\\s|poop:$))"],M=["2764","1f61b","1f61b","1f61c","1f61e","1f642","1f622","1f600","1f610","1f62e","1f62e","1f611","1f60a","1f607","1f608","1f609","1f620","1f617","1f60e","1f620","1f615","1f427","1f4a9"];r=function(){this.h=[]},d=function(N,O){var P={h:[]};this.gval=function(){return u(P.h,N)},this.update=function(Q){p(N,P,Q,!0)},C("keyup",N,P,O),C("paste",N,P,O),C("cut",N,P,O),q(N,null,P,null),D(N,P),E(N,P)},H=function(N,O){return N.contains(O)},G=function(){var N=document.getSelection().anchorNode;return 3==N.nodeType?N.parentNode:N},t=function(N){for(var O in J){var P=N.match(g[O]);P&&(N=N.replace(g[O],function(){return"<img class=\"_1ift _2560 img\" src=\"kkk/nnn/"+M[O]+".png\">"}))}var Q=N.match(I);return Q&&(N=N.replace(I,function(R,S,T){var U=z(S.charCodeAt(0),T.charCodeAt(0)),V=U.toString(16);return"<img class=\"_1ift _2560 img\" src=\"kkk/nnn/"+V+".png\">"})),N},D=function(N,O){N.addEventListener("keydown",function(P){P=P||window.event;var Q=this,R=y(Q);if(("32"!=P.keyCode||R.start==R.end)&&"46"!=P.keyCode&&"8"!=P.keyCode&&"38"!=P.keyCode&&"40"!=P.keyCode&&"37"!=P.keyCode&&"39"!=P.keyCode){var S=G();if("undefined"!=typeof O.h&&null!==O.h){var T=document.createElement("div");for(var U in T.contentEditable="true",O.h)H(Q,O.h[U][2])||O.h.splice(U,1);for(var U in O.h){var V=O.h[U][2].cloneNode(1);if(T.appendChild(V),!0==O.h[U][3][0]&&S==O.h[U][2]){var $,W=!0,Y=T.innerText.length,Z=y(Q).start;if(Z==Y&&(W=!1),$=!1==W?parseInt(U,10)+1:parseInt(U,10)-1,0<U&&U<O.h.length-1){var _=O.h[$][2].getElementsByClassName("gr")[0],aa=_;if(!1==W&&aa)0==aa.childNodes.length?(aa.innerText=" ",A(aa,{start:1,end:1})):A(aa,{start:1,end:1});else if(!aa){var ca=document.createElement("div");ca.innerHTML="<span ><span data-text=\"true\" class=\"gr\"> </span></span>";var da=ca.firstChild;W?Q.insertBefore(da,O.h[$][2].nextSibling):Q.insertBefore(da,O.h[$][2]),A(da,{start:1,end:1}),O.h.push([null,null,da,[!1,null]])}else if(console.log(aa.childNodes),console.log(aa),0==aa.childNodes.length)aa.innerText=" ",A(aa,{start:1,end:1});else{var ba=aa.childNodes[0].textContent.length-1;A(aa,{start:ba,end:ba})}}else if(U==O.h.length-1){var ca=document.createElement("div");ca.innerHTML="<span ><span data-text=\"true\" class=\"gr\"> </span></span>";var da=ca.firstChild;Q.appendChild(da),A(da,{start:1,end:1}),O.h.push([null,null,da,[!1,null]])}else if(0==U){var ca=document.createElement("div");ca.innerHTML="<span ><span data-text=\"true\" class=\"gr\"> </span></span>";var da=ca.firstChild;Q.insertBefore(da,O.h[U][2]),A(da,{start:0,end:0}),O.h.unshift([null,null,da,[!1,null]])}}}}}})},E=function(N,O){N.addEventListener("keypress",function(P){"13"==P.keyCode&&P.shiftKey&&(p(this,O,"\n",!1),P.preventDefault())},!1)},u=function(N,O){if("undefined"!=typeof N&&null!=N&&0<N.length){for(var Q in N){var R;if(!0==N[Q][3][0]&&H(O,N[Q][2])){var S=document.createElement("div");S.innerHTML="<span>"+N[Q][3][1]+"</span>";var T=S.firstChild;O.insertBefore(T,N[Q][2]),N[Q][2].parentNode.removeChild(N[Q][2])}}R=O.innerText}else R=O.innerText;return R},C=function(N,O,P,Q){O.addEventListener(N,function(R){(32==R.keyCode||"paste"==N||"cute"==N)&&q(this,N,P,Q)})},q=function(N,O,P,Q){setTimeout(function(){var R=u(P.h,N),S=y(N).start,T=k(R,S);if(null!=T[1]&&"function"==typeof Q&&"keyup"==O&&Q(T[1]),P.h=T[0],null!=P.h)for(let W in N.innerHTML="",P.h)if(N.appendChild(P.h[W][2]),"undefined"!=typeof P.h[W][4]){var U=P.h[W][2].getElementsByClassName("gr")[0]||P.h[W][2];A(U,{start:P.h[W][4],end:P.h[W][4]})}},50)},g=J.map(function(N){return new RegExp(N,"g")}),z=function(N,O){return 1024*(N-55296)+(O-56320)+65536},w=function(N,O,P,Q,R){for(var U,S=!1,T=!1;U=I.exec(N);){for(var _,V=U[0],W=U.index,Y=[],Z=[],$=V;_=P.exec($);){_.index===P.lastIndex&&P.lastIndex++;var aa=parseInt($.length,10)-1;aa==_.index&&($=$.substring(0,_.index),S=!0),0==_.index&&($=$.substring(_.index+_[0].length,$.length),T=!0)}var ba=z(U[1].charCodeAt(0),U[2].charCodeAt(0)),ca=ba.toString(16),da=document.createElement("div");da.innerHTML="<span class=\"highlight-foo _3gl1\" style=\"background-image:url(kkk/nnn/"+ca+".png);\">\u3000</span>";var ea=da.firstChild;T?(Y.push(W+1),Z.push(W+1)):(Y.push(W),Z.push(W)),S?(Y.push(W+V.length-1),Z.push(W+V.length-1)):(Y.push(W+V.length),Z.push(W+V.length)),Z.push(ea),Z.push([!0,$]),Q>=W&&Q<=V.length&&Z.push(0),R.push(Z),O.push(Y)}},k=function(N,O){var P=N,Q=[],R=[],S=/\r|\n|\s/g;for(var T in J)for(var W,U=!1,V=!1;W=g[T].exec(N);){for(var ba,Y=W[0],Z=W.index,$=[],_=[],aa=Y;ba=S.exec(aa);){ba.index===S.lastIndex&&S.lastIndex++;var ca=parseInt(aa.length,10)-1;ca==ba.index&&(aa=aa.substring(0,ba.index),U=!0),0==ba.index&&(aa=aa.substring(ba.index+ba[0].length,aa.length),V=!0)}var da=document.createElement("div");da.innerHTML="<span class=\"highlight-foo _3gl1\" style=\"background-image:url(kkk/nnn/"+M[T]+".png);\">\u3000</span>";var ea=da.firstChild;V?($.push(Z+1),_.push(Z+1)):($.push(Z),_.push(Z)),U?($.push(Z+Y.length-1),_.push(Z+Y.length-1)):($.push(Z+Y.length),_.push(Z+Y.length)),_.push(ea),_.push([!0,aa]),O>=Z&&O<=Y.length&&_.push(0),Q.push(_),R.push($)}w(N,R,S,O,Q),R.sort(B);var fa=0;for(var ga in R){if(0!=R[ga][0]){var _=[],ha=P.substring(fa,R[ga][0]),da=document.createElement("div");da.innerHTML="<span ><span data-text=\"true\" class=\"gr\">"+ha+"</span></span>";var ea=da.firstChild;_.push(fa),_.push(R[ga][0]),_.push(ea),_.push([!1,null]),O>=fa&&O<=R[ga][0]&&_.push(O-fa),Q.push(_)}fa=R[ga][1]}if(fa<N.length){var ha=P.substring(fa,N.length),_=[];/\r|\n|\s/g.test(ha.slice(-1))&&(ha=ha.slice(0,-1)+" ");var da=document.createElement("div");da.innerHTML="<span ><span data-text=\"true 222\" class=\"gr\">"+ha+"</span></span>";var ea=da.firstChild;_.push(fa),_.push(N.length),_.push(ea),_.push([!1,null]),O>=fa&&O<=N.length&&_.push(O-fa),Q.push(_)}else if(fa==N.length){var _=[],da=document.createElement("div");da.innerHTML="<span ><span data-text=\"true 222\" class=\"gr\"> </span></span>";var ea=da.firstChild;_.push(fa),_.push(N.length),_.push(ea),_.push([!1,null]),O>=fa&&O<=N.length&&_.push(0),Q.push(_)}Q.sort(B);var ia=[null,null],ja=/(((ftp|https?):\/\/)[\-\w@:%_\+.~#?,&\/\/=]+)|((mailto:)?[_.\w-]+@([\w][\w\-]+\.)+[a-zA-Z]{2,3})/g,ka=N.match(ja);return null!=ka&&(ia[1]=ka),0<Q.length&&(ia[0]=Q),ia},B=function(N,O){return N[0]===O[0]?0:N[0]<O[0]?-1:1},p=function(N,O,P,Q){if(Q)var R=y(N);var S,T;if(!window.getSelection)document.selection&&"Control"!=document.selection.type&&document.selection.createRange().pasteHTML(P);else if(S=window.getSelection(),S.getRangeAt&&S.rangeCount){T=S.getRangeAt(0),T.deleteContents();var U=document.createElement("div");U.innerHTML=P;for(var W,Y,V=document.createDocumentFragment();W=U.firstChild;)Y=V.appendChild(W);T.insertNode(V),Y&&(T=T.cloneRange(),T.setStartAfter(Y),T.collapse(!0),S.removeAllRanges(),S.addRange(T))}Q&&(q(N,null,O,null),R.start+=P.length,R.end+=P.length,A(N,R))},A=function(N,O){function P(V){if(3==V.nodeType){var W=Q+V.length;if(!S&&O.start>=Q&&O.start<=W&&(R.setStart(V,O.start-Q),S=!0),S&&O.end>=Q&&O.end<=W)throw R.setEnd(V,O.end-Q),T;Q=W}else for(var Y=0,Z=V.childNodes.length;Y<Z;++Y)P(V.childNodes[Y])}var Q=0,R=document.createRange(),S=!1,T={};R.setStart(N,0),R.collapse(!0);try{P(N)}catch(V){if(V==T){var U=window.getSelection();U.removeAllRanges(),U.addRange(R)}else throw V}},y=function(N){function O(W,Y){if(3==W.nodeType){if(S||W!=Y.startContainer||(Q=P+Y.startOffset,S=!0),S&&W==Y.endContainer)throw R=P+Y.endOffset,T;P+=W.length}else for(var Z=0,$=W.childNodes.length;Z<$;++Z)O(W.childNodes[Z],Y)}var P=0,Q=0,R=0,S=!1,T={},U=window.getSelection();if(U.rangeCount)try{O(N,U.getRangeAt(0))}catch(W){if(W!=T)throw W}return{start:Q,end:R}},c.gxr=function(N){return t(N)},c.regx=function(N,O){return new d(N,O)}})(fs);
/******end****/

/*******gif.js******/
(function(c){'use strict';var m,o,p,B,C,D,E,G,I,J,K,L,M,P,R,l=0,F=F||{},O=!1,S=['uiScrollableAreaContent','_c-mq1','_c-mq','_58al','_515'],T=['var t = o=>`<div class=" _4rlu"><div aria-label="Pick an Emoji" tabindex="1" role="button"><img class="_1lih _1ift _1ifu img" src="${o.f[0]}" alt="" style="margin: 0px;"></div></div>`','<div class="_c-e-1 _C-e-2 uiToggle"> <div class="_c-es1"> <div class="_c-es2" data-reactid=".35"> <div class="_3mtr"><label class="_4qcs _55r1 _58ak _3ct8"><input type="text" class="_58al" placeholder="Search GIFs across apps..." value=""></label></div><div class="_c-mq" ><div class="_c-mq1" ><div width="430" class="uiScrollableArea fade uiScrollableAreaWithShadow contentBefore contentAfter"  height="320" style="height: 320px;"><div class="uiScrollableAreaWrap scrollable"  ><div class="uiScrollableAreaBody"   style="width: 278px;"><div class="uiScrollableAreaContent" ></div></div></div><div class="uiScrollableAreaTrack" style="opacity: 0;"><div class="uiScrollableAreaGripper" style="height: 40000%; top: 0px;"></div></div></div><div class="_515"><img src="https://www.facebook.com/rsrc.php/v3/yL/r/MVLY03UaITD.png" alt="" class="img" width="16" height="16"><em class="_4qba">Trending</em></div> </div></div> </div> </div><i class="_53io" style="left: 100%; margin-left: -23px;"></i><a class="accessible_elem layer_close_elem" href="#" role="button">Close popup and return</a</div>','var t = o=>`<div class="uiContextualLayerPositioner uiLayer emoticons" id="js_3t"   data-ownerid="js_3v"><div class="uiContextualLayer _5v-0 _53il uiContextualLayerBelowRight" style="right: 0px;bottom:0px">${o.f}</div></div>`','var t = o=>`<img class="_358 _26n6 img" src="${o.f[0]}" tabindex="0" alt="" style="height: ${o.f[1]}px; width: ${o.f[2]}px;">`','<div style="margin-top: 140px;text-align: center;"><span class="s_ _c-qls _c-lq _55yo" aria-label="Loading..."  ></span></div>'];G=function(U){for(var V in U){var W=eval;W(T[3]);var X='i'+I(F);F[X]={},F[X].id=U[V].id;var Z=[U[V].icon,170,274],$=lib.h2(t({f:Z}));console.log(t({f:Z})),F[X].h=$;U[V]}},B=function(U,V,W,X){X&&(M[0].innerHTML=T[4]);for(var Z=W.x.length;Z--;)W.x[Z].abort(),W.x.splice(Z,1);var $=lib.$('gif.php',U,'POST',function(_){W.z=!1,X&&(M[0].innerHTML=''),m(JSON.parse(_),V)});W.x.push($)},C=function(U){U?M[4].classList.remove('hidden_elem'):M[4].classList.add('hidden_elem')},o=function(U,V,W,X){lib.listen(U,V,function(){var Z=X.st(),$=this;clearTimeout(Z.r),Z.r=setTimeout(function(){0<$.value.trim().length?(X.s(!1),C(X.g()),console.log('enter if and length '+$.value.length),Z.z=!0,B('find='+$.value,W,Z,!0)):(X.s(!0),C(X.g()),B(null,W,Z,!0))},400)})},E=function(){this.EV=!0,this.l=this.l||{},this.u=this.u||{},this.l.z=!1,this.l.x=[],this.g=function(){return this.EV},this.s=function(U){this.EV=U},this.o=function(){return this.u},this.st=function(){return this.l}},J=function(U,V,W,X){L=[U,V,W];var Z=new E,$=Z.o(),_=Z.st(),aa=eval;aa(T[2]);var ba=T[1];P=lib.h(t({f:ba})),lib.listen(P,'click',function(da){lib.n(da)}),V.appendChild(P),'function'==typeof X&&X(P),M=K(P,S),o(M[3],'keydown',$,Z),o(M[3],'cut',$,Z),o(M[3],'paste',$,Z),o(M[3],'drop',$,Z),fs.ro(M[2],function(){var da;for(var ea in console.log($),$);da=$[ea];var fa='';Z.g()||(fa='&find='+M[3].value),console.log(Z.g()),console.log(fa),_.z||(_.z=!0,C(Z.g()),B('pos='+da.pos+fa,$,_,!1))}),B(null,$,_,!1);var ba=lib.q(V),ca=lib.q(U);P.style.top=ca.top-ba.top+'px',P.style.width=ca.left+'px',P.style.right=ba.right-ca.right+'px'},m=function(U,V){for(var W in O=!1,l=0,U){var X='i'+I(V);V[X]={},V[X].id=U[W].id,V[X].width=U[W].width,V[X].height=U[W].height,V[X].path=U[W].path,V[X].pos=U[W].pos,p(U[W],V[X])}},p=function(U,V){var W=U.height/U.width,V=272;console.log(U.path);var Z=[U.path,V*W,V],$=eval;$(T[3]);var _=lib.h(t({f:Z}));M[0].appendChild(_),'function'==typeof g&&g(i,_),_.addEventListener('click',function(){var aa=this.cloneNode(1);L&&'function'==typeof L[2]&&L[2](aa,U)})},K=function(U,V){for(var W=[],X=0;X<V.length;X++)W.push(U.getElementsByClassName(V[X])[0]);return W},I=function(U){return Object.keys(U).length},c.es=function(U){m(U)},c.gf=function(U,V,W,X,Z){R=Z,D()&&J(U,V,W,X)},c.sd=function(U,V,W,X){p(U,V,W,X)},D=function(){return!P||(P.parentNode.removeChild(P),'function'==typeof R&&R(),P=!1,!1)},c.clickede=function(){D()},c.nx=F})(fs),document.addEventListener('click',function(){fs.clickede()});
/******end****/

/*******scroll.js******/
(function(c){var d,g,m,o,p,q,t,u,h=!1,v=['uiScrollableAreaTrack','uiScrollableAreaBody','uiScrollableArea','uiScrollableAreaWrap','uiScrollableAreaGripper'];q=function(w){w[2].style.height=100*(w[1].offsetHeight/w[3].scrollHeight)+'%',w[2].style.top=w[1].offsetHeight*w[1].scrollTop/w[1].scrollHeight+'px',t(w)},u=function(w){var y=w[1].scrollHeight-w[1].offsetHeight;y<=w[1].scrollTop?'function'==typeof w[5]&&w[5]():0>=w[1].scrollTop&&'function'==typeof w[6]&&w[6]()},g=function(w,y){for(var z=[],A=0;A<y.length;A++)z.push(w.getElementsByClassName(y[A])[0]);return z},m=function(w,y,z){if(!(0>=z)){var A=y-w.scrollTop;setTimeout(function(){w.scrollTop+=10*(A/z),w.scrollTop===y||m(w,y,z-10)},10)}},t=function(w){w[4].offsetHeight>=w[3].scrollHeight?w[0].classList.add('hidden_elem'):w[0].classList.remove('hidden_elem')},d=function(w,y,z){var A=g(w,v),B,C=[];C.push(A[0],A[3],A[4],A[1],A[2],y,z),t(C),C[0].classList.remove('invisible_elem'),C[2].classList.remove('hidden_elem'),C[1].addEventListener('mousedown',function(D){var E=C[2].getBoundingClientRect();E.top<=D.clientY&&E.bottom>=D.clientY&&E.left<=D.clientX&&E.right>=D.clientX&&(h=!0,o=D.clientY-E.top,lib.v(D))}),document.addEventListener('mouseup',function(){h=!1}),document.addEventListener('mousemove',function(D){var E=C[0].getBoundingClientRect();if(E.top<=D.clientY&&E.bottom>=D.clientY&&E.left<=D.clientX&&E.right>=D.clientX?(C[1].parentNode.classList.add('uiScrollableAreaTrackOver'),C[0].style.opacity=1,lib.v(D)):C[1].parentNode.classList.remove('uiScrollableAreaTrackOver'),!0==h){var E=C[0].getBoundingClientRect(),F=C[2].getBoundingClientRect();C[2].style.top=C[1].offsetHeight*C[1].scrollTop/C[1].scrollHeight+'px',C[1].scrollTop=C[1].scrollHeight/C[1].offsetHeight*(D.clientY-E.top-o)}}),C[3].children[0].addEventListener('click',function(){}),C[1].addEventListener('click',function(D){var E=C[0].getBoundingClientRect(),F=C[2].getBoundingClientRect();E.top<=D.clientY&&E.bottom>=D.clientY&&E.left<=D.clientX&&E.right>=D.clientX&&(F.top>D.clientY?m(C[1],C[1].scrollTop-C[3].offsetHeight/(C[0].scrollHeight/C[2].offsetHeight),100):F.bottom<D.clientY&&m(C[1],C[1].scrollTop+C[3].offsetHeight/(C[0].scrollHeight/C[2].offsetHeight),100),D.preventDefault(),D.stopPropagation(),lib.v(D))}),C[1].addEventListener('DOMSubtreeModified',function(){q(C)}),C[1].addEventListener('mousewheel',function(D){var E=D.wheelDelta||-D.detail;this.scrollTop+=30*(0>E?1:-1),D.preventDefault()}),C[1].addEventListener('scroll',function(){p(C,B),q(C),u(C)}),q(C)},p=function(w,y){clearTimeout(y),w[0].style.opacity=1,y=setTimeout(function(){w[0].style.opacity=0},2e3)},c.ro=function(w,y){d(w,y)}})(fs);
/******end****/


/*******emoji.js******/
(function(d){'use strict';var o,p,B,D,E,F,G,I,J,M,N,l=0,x=x||{},C=C||{},K=!1,O=!1,P=null,R=['uiGrid_','_5r81','_c-mq1'],S=['var t = o=>`<div class=" _4rlu"><div aria-label="Pick an Emoji" tabindex="1" role="button"><img class="_1lih _1ift _1ifu img" src="${o.f[0]}" alt="" style="margin: 0px;"></div></div>`','<div class="_c-e-1 _C-e-2 uiToggle"> <div class="_c-es1"> <div class="_c-es3 _c-es2 _4pi8"><div class="_c-mq" style="height: 361px;"><div class="_2q3u uiScrollableArea fade uiScrollableAreaWithShadow contentAfter contentBefore" style="height: 90%; margin-left: 20px;"><div class="uiScrollableAreaWrap scrollable" aria-label="Scrollable region"><div class="uiScrollableAreaBody" style="margin-right: -17px;"><div class="uiScrollableAreaContent"><table cols="6" class="_3-s_ uiGrid _51mz" cellspacing="0" cellpadding="0"><tbody class="uiGrid_"><div class="_c-mq1 " ><span class="s_ _c-qls _c-lq _55yo" aria-label="Loading..." aria-busy="true"></span></div></table></tbody></div></div></div><div class="uiScrollableAreaTrack"><div class="uiScrollableAreaGripper"></div></div></div> <div class=""> <div class="_5r85 _emj"><div class="_c-q1" ><div ><table cols="9" class="uiGrid _51mz" cellspacing="0" cellpadding="0" ><tbody ><tr  class="_51mx _5r81"> </tr></tbody></table></div></div></div></div></div></div></div><i class="_53io" style="left: 100%; margin-left: -23px;"></i><a class="accessible_elem layer_close_elem" href="#" role="button">Close popup and return</a</div>','var t = o=>`<div class="uiContextualLayerPositioner uiLayer emoticons" id="js_3t"   data-ownerid="js_3v"><div class="uiContextualLayer _5v-0 _53il uiContextualLayerBelowRight" style="right: 0px;bottom:0px">${o.f}</div></div>`','var t = o=>`<td data-id="${o.f[1]}" class=" _1uwx _51m-" data-hover="tooltip" data-tooltip-content="${o.f[0]}" id="js_3kj"><div class="_1uw-"><img class="_2560 _1ift img" src="${o.f[2]}" alt=""></div></td>`'];D=function(T){for(var U in T){var V=eval;V(S[3]);var W='i'+E(C);C[W]={},C[W].id=T[U].id,C[W].emoji=T[U].emoji;var X=[T[U].id,T[U].name,T[U].icon],Z=lib.h2(t({f:X}));console.log(t({f:X})),C[W].h=Z,1==U&&(J[2].classList.add('hidden_elem'),Z.classList.add('_1uwz'),o(T[U].emoji),P=T[U].emoji);let $=T[U];Z.onclick=function(){for(var _ in C)C[_].h.classList.remove('_1uwz');this.classList.add('_1uwz'),J[2].classList.add('hidden_elem'),P=$.emoji,o($.emoji)}}},F=function(T,U,V,W){I=[T,U,V];var X=eval;X(S[2]);var Z=S[1];if(M=lib.h(t({f:Z})),fs.ro(M,function(){}),lib.listen(M,'click',function(aa){lib.n(aa)}),lib.listen(M,'mousedown',function(aa){aa.preventDefault()}),U.appendChild(M),'function'==typeof W&&W(M),J=G(M,R),!O)lib.$('package_emoji.php',null,'POST',function(aa){for(var ba in O=!0,D(JSON.parse(aa)),C)J[1].appendChild(C[ba].h)});else{for(var $ in C)J[1].appendChild(C[$].h);null!==P&&o(P)}var Z=lib.q(U),_=lib.q(T);M.style.top=_.top-Z.top+'px',M.style.width=_.left+'px',M.style.right=Z.right-_.right+'px'},o=function(T){for(var U in J[0].innerHTML='',J[2].classList.add('hidden_elem'),K=!1,l=0,T){if(6==l&&(K=!1,l=0),!1==K){var V=document.createElement('tr');J[0].appendChild(V),K=!0}var W=document.createElement('td');W.className='_3-sy _51m-',V.appendChild(W);var X='i'+E(x);x[X]={},x[X].e=V,x[X].id=T[U].id,x[X].sign=T[U].sign,x[X].packName=T[U].packName,x[X].sourceURI=T[U].sourceURI,p(T[U],W,'','',x[X]),l++}},p=function(T,U,V,W){var Z=[T.sourceURI],$=new Image;$.onload=function(){return function(){var _=eval;_(S[0]);var aa=lib.h(t({f:Z}));U.appendChild(aa),'function'==typeof W&&W(V,aa),lib.listen(aa.children[0],'click',function(ba){ba.preventDefault();var ca=this.cloneNode(1);I&&'function'==typeof I[2]&&I[2](ca,T)})}}(),$.src=T.sourceURI},G=function(T,U){for(var V=[],W=0;W<U.length;W++)V.push(T.getElementsByClassName(U[W])[0]);return V},E=function(T){return Object.keys(T).length},d.es=function(T){o(T)},d.xt=function(T,U,V,W,X){N=X,B()&&F(T,U,V,W)},d.clickeds=function(){B()},B=function(){return!M||(M.parentNode.removeChild(M),'function'==typeof N&&N(),M=!1,!1)},d.sm=function(T,U,V,W){p(T,U,V,W)},d.nx=C})(fs),document.addEventListener('click',function(){fs.clickeds()});
/******end****/

/*******player.js******/
function FullPic(a,b){this.sourceFile=a,this.caption=b}FullPic.prototype.open=function(){this.lightboxWrapper=document.createElement('div'),this.lightboxWrapper.className='lightbox-wrapper',this.lightbox=document.createElement('div');var a=document.createElement('div');a.className='overlay';var b=document.createElement('img');b.className='expanded',b.src=this.sourceFile.path;var c=document.createElement('div');c.className='caption';var d=document.createTextNode(this.caption);c.appendChild(d);var e=document.querySelector('#column-wrapper');this.lightbox.appendChild(a),this.lightbox.appendChild(b),this.lightbox.appendChild(c),document.body.insertBefore(this.lightboxWrapper,e),this.lightbox.style.opacity=0,this.lightboxWrapper.appendChild(this.lightbox);var f=0,g=this.lightbox,h=setInterval(function(){1.05>f?(g.style.opacity=f,f+=0.05):clearInterval(h)},15),i=this;a.addEventListener('click',function(){i.close()})},FullPic.prototype.close=function(){var a=1,b=this.lightbox,c=this.lightboxWrapper,d=setInterval(function(){0<a?(b.style.opacity=a,a-=0.05):(clearInterval(d),document.body.removeChild(c))},15)};
/******end****/

/*******o5.js******/
var fs=fs||{};(function(g){'use strict';var _=function(Ca){return document.getElementById(Ca)},T,N,C,M,P,$,V,O,B,A,R,W,J,U,Q,Y,ee,te,ae,ie,le,ne,de,pe,he,ce,ue,ge,_e,xe,Le,ve,ye,ke,be,je,Ce,He,Ee,Me,Pe,we,$e,Ve,Oe=!0,Be,Ke,De,Ie,Xe,Re,We,qe,Je,Fe,Ue,Ze=0,Ge=!0,Qe,Ye,et,tt,st,lt,nt,dt,ot,pt,ct,ft,mt,ut,gt,_t,Lt,vt,yt,kt,bt=!1,jt,Tt=!0,Ct=Ct||{},Ht,Et,Mt=!1,Pt,wt,$t,Vt=!1,Ot,St=1200,Bt,Kt,Dt,At,zt,It,Xt,Rt,Wt,qt,Jt,Ft,Ut,Zt,Gt,Qt,Yt,ts,ss,is,ns,ds,os=!1,ps,cs,gs,_s,xs,Ls,vs,ks=!1,bs=200,js=230,Ts=[!1,null],Ns,Cs,Hs,Es=172,Ps,ws,$s,Vs,Os=Os||{},Ss,Bs,Ks,Ds,Is,Xs,Rs,Ws,qs,Js,Fs,Us,Zs,Gs=Gs||{},Qs=Qs||{},Ys,ea,sa,ia,la,na,da,ra,oa,pa,ha,ca,fa,ma,ua,ga,_a,xa=eval,La=[['Chat Sounds',function(){ks?jt(!1):jt(!0)}],['Block Settings'],['Advanced Settings...'],!0,['Collapse All Chat Tabs',function(){Wt()}],['Close All Chat Tabs',function(){xs()}],['Hide Sidebar',function(){Ht(!1),Vt=!0}],['Turn Off Chat',function(){var Ca=lib.h(te[5]);document.body.appendChild(Ca);var Ha=lib.j(Ca,ge);lib.$('php/chatstatus.php',null,'POST',function(Ea){var Ma=JSON.parse(Ea);Ha[0].innerHTML=Ma.ht,Kt(Ma.src);var Pa=new Function(Ma.js);Pa(Ca)})}],['',function(){if(!Oe){var Ca=lib.h(te[5]);document.body.appendChild(Ca);var Ha=lib.j(Ca,ge);lib.$('php/callstatus.php',null,'POST',function(Ea){var Ma=JSON.parse(Ea);Ha[0].innerHTML=Ma.ht,Kt(Ma.src);var Pa=new Function(Ma.js);Pa(Ca)})}else lib.$('php/callstatus.php',null,'POST',function(Ea){var Ma=JSON.parse(Ea);!0==Ma.status&&(Oe=!1)})}]],va=_('t_o_3'),ya=_('i_m7'),ka=_('px_t8'),ba=_('h_o9'),ja=_('v_7i'),Ta=!1;Bt=function(){return Oe?'Turn On Video/Voice Calls':'Turn Off Video/Voice Calls'},$e=function(){we&&we.parentNode&&we.parentNode.removeChild(we)},Ve=function(Ca){if(Ca.rdy){var Ha=window.open('videocall/incall/?peer_id='+Ca.id,'new call','height=600,width=700');Ha.onload=function(){Ts[0]=!0,Ts[1]=Ca.id,Ha.TF({id:Ca.id,t:!1,caller:!1},la,Ts),Ha.fs.KN(la,Ts),Ha.fs.l(Ca.id,!1)}}},W=function(){lib.$('online.php','status=1','POST',function(){},function(){setTimeout(function(){W()},1e4)})},J=function(){W(),setInterval(function(){W()},3e4)},et=function(Ca){Qe(null),Ca.el[3].focus(),Ca.tab.classList.add('fucsed'),fs.clickede(),fs.clickeds(),fs.clicked()},Lt=function(Ca,Ha){if(0==Ca.mu){var Ea=fa(Ce({id:Ha[0],name_first:cs(Ca.name,Ca.num),name_last:'',emoji:Ca.emoji,color:Ca.color,user_id:Ca.user_id,type:Ca.type,bk:Ca.bk,mu:Ca.mu,unread:Ca.unread},'',!0));!Js(Ha,'call')&&Ha[9]!=Le&&ks&&Be(Ea)}},Be=function(Ca){if(null==Ca.noti){Ca.noti=!0,setTimeout(function(){Ca.noti=null},2e3);var Ha=document.createElement('audio');Ha.src='media/WebMessage.mp3',Ha.play()}},pt=function(Ca,Ha){var Ea=1==Ha.type?xe[40]:'',Ma='';Ha.num==Ha.seen_num&&Le==Ca[9]?Ma=xe[1]+' '+xe[2]:Ha.num!=Ha.seen_num&&Le==Ca[9]&&(Ma='repliedLast');var Pa='',wa='';if(0<Ha.unread&&Le!=Ca[9])var Pa='('+Ha.unread+')',wa=xe[25];var $a='';Js(Ca,'msg')?$a=Le!=Ca[9]&&1==Ha.type?Ca.nameX[0]+': '+Ca.msg:Ca.msg:Js(Ca,'nm')?$a=Je(Ca.nm)[0]:Js(Ca,'bg')?$a=We(Ca[9],Ca.bg)[0]:Js(Ca,'emoji')?$a=qe(Ca.emoji,!1)[0]:Js(Ca,'action')?$a=Re(Ca.action,!1)[0]:Js(Ca,'brief')?$a=De(Ca)[0]:Js(Ca,'sticker')?$a=De(Ca)[0]:Js(Ca,'images')?$a=Ke(Ca.images)[0]:Js(Ca,'files')?$a=Ke(Ca.files)[0]:Js(Ca,'call')&&($a=Ie(Ca.call)[0]),Ha.date=Ca[3];var Va=ot(Ha,ut(Ha.images),Pa,Ea,Ma,$a,wa);Dt[17].insertBefore(Va,Dt[17].firstChild)},jt=function(Ca){var Ha=Ca?0:1;lib.$('php/chatSound.php','status='+Ha,'post',function(Ea){var Ma=JSON.parse(Ea);!0==Ma.status&&Ca&&(ks=!0),!0!=Ma.status||Ca||(ks=!1)})},mt=function(Ca){Ca.placeholder='',Ca.style.width=24+10*Ca.value.length+'px'},Et=function(){var Ca=0;for(var Ha in Os)1==Os[Ha].status&&!1===Os[Ha].sh&&Ca++;Dt[14].innerText=0<Ca?'('+Ca+')':''},ut=function(Ca){if(1==Ca.length){xa(te[9]);var Ha=[Ca[0]],Ea=x({p:Ha})}if(2==Ca.length){var Ea='';xa(te[10]);var Ha=['width:25px;',Ca[0],50,50,'-8px'];Ea+=x({p:Ha}),xa(te[10]);var Ha=['width:25px;',Ca[1],50,50,'-4px'];Ea+=x({p:Ha})}if(3==Ca.length){var Ea='';xa(te[10]);var Ha=['width:33px;',Ca[0],50,50,'-8px'];Ea+=x({p:Ha}),xa(te[10]);var Ha=['width:17px;height: 25px',Ca[1],25,25,'-4px'];Ea+=x({p:Ha}),xa(te[10]);var Ha=['width:17px;height: 25px',Ca[2],25,25,'-4px'];Ea+=x({p:Ha})}return Ea},Ee=function(){lib.$('listfriend.php',null,'post',function(Ca){for(var Ha in Os)delete Os[Ha];if(Dt[2].innerHTML='',Dt[5].innerHTML='',Ca=JSON.parse(Ca),ks=0==Ca.su,Oe=0!=Ca.cl,1==Ca.sd){Vt=!0,Mt=!1,document.body.classList.remove(xe[0]),Dt[13].style.right='20px';var Ea=Dt[2]}else{Vt=!1;var Ea=Dt[5]}for(var Ma in Ca.el){xa(C[0]);var Pa=[Ca.el[Ma].photo,Ca.el[Ma].unread,Ca.el[Ma].name_first+' '+Ca.el[Ma].name_last,Ca.el[Ma].status],wa=lib.h(x({f:Pa}));ra(Ca.el[Ma],wa,!1),Ea.appendChild(wa)}1==Ca.vs&&(It=!0,gt(It))})},Me=function(Ca,Ha,Ea){var Ma=_t(Ca.chat_id);!1!==Ma&&(Ma.el[1].classList.remove(xe[1]),Ea?Ma.el[1].classList.add(xe[2]):Ma.el[1].classList.remove(xe[2]),Ma.el[2].innerHTML=fs.gxr(Ha))},Ht=function(Ca){if(Ca)for(var Ha in Mt=!0,document.body.classList.add(xe[0]),Dt[13].style.right='230px',ma(!1),Os)!0===Os[Ha].sh?delete Os[Ha]:Dt[5].appendChild(Os[Ha].tab);else for(var Ha in Mt=!1,document.body.classList.remove(xe[0]),Dt[13].style.right='20px',ma(!1),Os)!0===Os[Ha].sh?delete Os[Ha]:Dt[2].appendChild(Os[Ha].tab)},Kt=function(Ca){var Ha=document.createElement('link');Ha.setAttribute('rel','stylesheet'),Ha.setAttribute('type','text/css'),Ha.setAttribute('th:href','@{/filepath}'),Ha.setAttribute('href',Ca),document.getElementsByTagName('head')[0].appendChild(Ha)},je=function(){ke&&null!=ke.parentNode&&ke.parentNode.removeChild(ke)},At=function(Ca,Ha){je();var Ea=lib.h(_e[0]);ke=Ea;for(var Ma=lib.j(Ea,['_54nf'])[0],Pa=0;Pa<La.length;Pa++)if(!0===La[Pa])Ma.appendChild(lib.h(_e[2]));else{if(xa(_e[1]),8==Pa)var wa=['a',Bt()];else var wa=['a',La[Pa][0]];var $a=lib.h(x({p:wa}));0==Pa&&ks&&$a.classList.add(xe[3],xe[4]),$a.addEventListener('click',function(){var Ba=La[Pa];return function(Da){Da.preventDefault(),'function'==typeof Ba[1]&&Ba[1]($a)}}(Ha)),Ma.appendChild($a)}var Va=lib.q(document.body),Oa=lib.q(Ca);Ea.style.top=Oa.top-Va.top+'px',Ea.style.width=Oa.left+'px',Ea.style.right=Va.right-Oa.right+'px',document.body.appendChild(Ea),Ea.style.top=Ea.offsetTop-Ma.offsetHeight-Ca.offsetHeight+'px'},Jt=function(Ca,Ha){if(Ha.status){var Ea=sa(Ca),Ma=kt(Ca),Pa=_t(Ca),wa=ia(Ca);if(!1!==Ea&&(Ds(Ea.el[15],!0),Ea.el[15].innerHTML='',Ea.bk=0,Ea.el[38].children[0].innerText=xe[5]),!1!==wa){var $a=wa[1];Ds($a.el[15],!0),$a.el[15].innerHTML='',$a.bk=0,$a.el[38].children[0].innerText=xe[5]}!1!==Pa&&(Pa.bk=0),!1!==Ma&&(Ma.bk=0)}},Ft=function(Ca,Ha){if(Ha.status){var Ea=sa(Ca),Ma=kt(Ca),Pa=_t(Ca),wa=ia(Ca);if(!1!==Ea&&(Ds(Ea.el[15],!0),Ea.el[15].innerHTML='',Ea.mu=0,Ea.el[35].children[0].innerText=xe[6]),!1!==wa){var $a=wa[1];Ds($a.el[15],!0),$a.el[15].innerHTML='',$a.mu=0,$a.el[35].children[0].innerText=xe[6]}!1!==Pa&&(Pa.mu=0),!1!==Ma&&(Ma.mu=0)}},Ut=function(Ca,Ha){lib.$('php/block.php','type=2&chat_id='+Ca.chat_id,'post',function(Ea){Ha(JSON.parse(Ea))})},Zt=function(Ca,Ha){lib.$('php/mute.php','type=2&chat_id='+Ca.chat_id,'post',function(Ea){Ha(JSON.parse(Ea))})},Wt=function(){for(var Ca in Gs)Gs[Ca].tab.classList.remove(xe[7]),Gs[Ca].type=!1},lt=function(Ca){!0===Ca.type?et(Ca):!1===Ca.type&&(Ca.tab.classList.add(xe[7]),ma(!1),_s(Ca),Ca.type=!0)},st=function(Ca){!1!==Ca[1]&&(Ca[1].r=0,Ca[1].eli[1].innerText=Ca.r,Ca[1].eli[1].classList.remove(xe[8])),ua(!1),ga(Ca[0])},xs=function(){for(var Ca in Gs)Xs(Gs[Ca].tab)},dt=function(Ca){var Ha=[Ca.fname];xa(ae[1]),Ca.el[15].innerHTML=x({p:Ha}),Ds(Ca.el[15],!1);var Ea=lib.j(Ca.el[15],[xe[10]]);Ca.bk=1,Ca.el[38].children[0].innerText=xe[9],Ea[0].addEventListener('click',function(){Ut(Ca,function(Pa){Jt(Ca.chat_id,Pa)})})},ct=function(Ca){Ca.el[15].innerHTML=ae[0],Ds(Ca.el[15],!1);var Ha=lib.j(Ca.el[15],[xe[11]]);Ca.mu=1,Ca.el[35].children[0].innerText=xe[12],Ha[0].addEventListener('click',function(){Zt(Ca,function(Ma){Ft(Ca.chat_id,Ma)})})},ds=function(Ca){var Ha=sa(Ca),Ea=kt(Ca),Ma=ia(Ca),Pa=_t(Ca);!1!==Ha&&dt(Ha),!1!==Ma&&dt(Ma[1]),!1!==Pa&&(Pa.bk=1),!1!==Ea&&(Ea.bk=1)},ns=function(Ca){var Ha=sa(Ca),Ea=kt(Ca),Ma=ia(Ca),Pa=_t(Ca);!1!==Ha&&ct(Ha),!1!==Ma&&ct(Ma[1]),!1!==Pa&&(Pa.mu=1),!1!==Ea&&(Ea.mu=1)},ts=function(Ca,Ha,Ea,Ma,Pa){xa(Y[0]);var wa=[xe[16]];Me(Ea,x({px:wa}),!0),Pa instanceof Element&&Pa.parentNode.removeChild(Pa),Ma&&Ma[0]&&Ma[0].classList.remove(xe[13]),Ea.el[5].appendChild(Ha),Ea.HN.e=!1,Bs(Ca,function($a){var Va=JSON.parse($a);Ks([Va],Ea,!1,!0,Ha,!1)},function(){if(Ma&&Ma[0]){Ma[0].classList.add(xe[13]);var Va=lib.h(te[4]),Oa=lib.j(Va,[xe[14]]);Oa[0].addEventListener('click',function(){ts(Ca,Ha,Ea,Ma,Va)}),Ma[0].appendChild(Va)}})},is=function(Ca,Ha,Ea,Ma){if(Ea=fs.gxr(Ea),Ma instanceof Element&&Ma.parentNode.removeChild(Ma),Me(Ha,Ca,!0),!0==Ha.HN.e&&Ha.HN.id==Le){var Pa=lib.h(Ea),wa=Pa;Ha.HN.el[0].appendChild(Pa)}else{var $a=[Ea];xa(C[4]);var Va=lib.h(x({p:$a})),wa=lib.j(Va,['_5wd4'])[0];Ha.HN.e=!0,Ha.HN.id=Le;var Oa=lib.j(Va,[xe[15]]);Ha.HN.el=Oa;var Pa=Oa[0].firstChild;Ha.el[5].appendChild(Va)}lib.$('message_class.php','message='+Ca+'&chat_id='+Ha.chat_id+'&key='+be,'POST',function(Sa){var Ba=JSON.parse(Sa);Ks([Ba],Ha,!1,!0,Pa,!1)},function(){if(wa){wa.classList.add(xe[13]);var Ba=lib.h(te[4]),Ka=lib.j(Ba,[xe[14]]);Ka[0].addEventListener('click',function(){is(Ca,Ha,Ea,Pa)}),wa.appendChild(Ba)}})},Yt=function(Ca,Ha,Ea,Ma,Pa){xa(Y[0]);var wa=[xe[16]];Me(Ca,x({px:wa}),!0),Ma&&Ma[0]&&Ma[0].classList.remove(xe[13]),Pa instanceof Element&&Pa.parentNode.removeChild(Pa),Ca.el[5].appendChild(Ea),Ca.HN.e=!1,lib.$('gifMessage.php','gif_id='+Ha.id+'&chat_id='+Ca.chat_id+'&key='+be,'POST',function($a){var Va=JSON.parse($a);Ks([Va],Ca,!1,!0,Ea,!1)},function(){if(Ma&&Ma[0]){Ma[0].classList.add(xe[13]);var Va=lib.h(te[4]),Oa=lib.j(Va,[xe[14]]);Oa[0].addEventListener('click',function(){Yt(Ca,Ha,Ea,Ma,Va)}),Ma[0].appendChild(Va)}})},Qt=function(Ca,Ha,Ea,Ma,Pa){xa(Y[1]);var wa=[xe[16]];Me(Ca,x({px:wa}),!0),Pa instanceof Element&&Pa.parentNode.removeChild(Pa),Ma&&Ma[0]&&Ma[0].classList.remove(xe[13]),Ca.el[5].appendChild(Ea),Ca.HN.e=!1,lib.$('briefMessage.php','emoji_brief_id='+Ca.emoji[Ha].id+'&chat_id='+Ca.chat_id+'&key='+be,'POST',function($a){var Va=JSON.parse($a);Ks([Va],Ca,!1,!0,Ea,!1)},function(){if(Ma&&Ma[0]){Ma[0].classList.add(xe[13]);var Va=lib.h(te[4]),Oa=lib.j(Va,[xe[14]]);Oa[0].addEventListener('click',function(){Qt(Ca,Ha,Ea,Ma,Va)}),Ma[0].appendChild(Va)}})},Gt=function(Ca,Ha,Ea,Ma,Pa){xa(Y[1]);var wa=[xe[16]];Me(Ca,x({px:wa}),!0),Pa instanceof Element&&Pa.parentNode.removeChild(Pa),Ma&&Ma[0]&&Ma[0].classList.remove(xe[13]),Ca.el[5].appendChild(Ea),Ca.HN.e=!1,lib.$('stickerMessage.php','sticker_id='+Ha.id+'&chat_id='+Ca.chat_id+'&key='+be,'POST',function($a){var Va=JSON.parse($a);Ks([Va],Ca,!1,!0,Ea,!1)},function(){if(Ma&&Ma[0]){Ma[0].classList.add(xe[13]);var Va=lib.h(te[4]),Oa=lib.j(Va,[xe[14]]);Oa[0].addEventListener('click',function(){Gt(Ca,Ha,Ea,Ma,Va)}),Ma[0].appendChild(Va)}})},ps=function(Ca){Ca.Nx.e=!0,lib.$('create_chat.php',ve(Ca.id),'POST',function(Ha){Ca.Nx.e=!1;var Ea=JSON.parse(Ha);for(var Ma in Ca.chat_id=Ea.chat_id,Ca.Nx.data){if(0==Ca.Nx.data[Ma].type){var Pa=Ca.Nx.data[Ma];Gt(Ca,Pa.a,Pa.htm,Pa.el)}if(1==Ca.Nx.data[Ma].type){var Pa=Ca.Nx.data[Ma];ts(Pa.a,Pa.htm,Ca,Pa.el),Qt(Ca,Pa.a,Pa.htm,Pa.el)}if(2==Ca.Nx.data[Ma].type){var Pa=Ca.Nx.data[Ma];ts(Pa.a,Pa.htm,Ca,Pa.el)}if(3==Ca.Nx.data[Ma].type){var Pa=Ca.Nx.data[Ma];Yt(Ca,Pa.a,Pa.htm,Pa.el)}if(4==Ca.Nx.data[Ma].type){var Pa=Ca.Nx.data[Ma];is(Pa.txt,Ca,Pa.xx)}}},function(){setTimeout(function(){ps(Ca)},11000)})},cs=function(Ca,Ha){var Ha=Ha-1,Ea='';return 1==Ha||1==Ca.length?Ea+=ye(Ca[0][0],Ca[0][1]):2==Ha&&2==Ca.length||2==Ca.length?Ea+=Ca[0][0]+' and '+Ca[1][0]:3==Ha&&3==Ca.length?Ea+=Ca[0][0]+', '+Ca[1][0]+' and '+Ca[2][0]:3<Ha&&(Ea+=Ca[0][0]+', '+Ca[1][0]+', '+Ca[2][0],Ea+=' and '+(Ha-3)+' other'),Ea},Ls=function(Ca,Ha,Ea){var Ma=[];lib.listen(Ca,Ha,function(){var Pa=this;setTimeout(function(){for(var wa=Ma.length;wa--;)Ma[wa].abort(),Ma.splice(wa,1);if(0<Pa.value.length){var $a=lib.$('listfriend.php','find='+Pa.value,'post',function(Oa){var Sa=JSON.parse(Oa);for(var Ba in Ea.innerHTML='',Sa){xa(C[0]);var Ka=[Sa[Ba].photo,Sa[Ba].unread,Sa[Ba].name_first+' '+Sa[Ba].name_last,Sa[Ba].status],Da=lib.h(x({f:Ka}));ra(Sa[Ba],Da,!0),Ea.appendChild(Da)}});Ma.push($a)}else for(var Va in Ea.innerHTML='',Os)!0===Os[Va].sh?delete Os[Va]:Ea.appendChild(Os[Va].tab)},300)})},zt=function(){lib.$('php/chatstatus.php','status=1','post',function(){})},Qe=function(){for(var Ha in je(),Gs)Gs[Ha].tab.classList.remove('fucsed'),Gs[Ha].MK&&(Gs[Ha].MK=!1,Gs[Ha].el[1].parentNode.classList.remove(xe[41]))},Rt=function(Ca){for(var Ha in Os)!1==Os[Ha].sh&&(Ca?Os[Ha].tab.classList.remove(xe[17]):Os[Ha].tab.classList.add(xe[17]))},Xt=function(Ca){Ca?(Dt[14].innerText=xe[18],Dt[8].innerHTML=P[0],Dt[9].innerHTML=P[0],Dt[6].classList.add(xe[19],xe[20]),Dt[7].classList.add(xe[19],xe[20]),Dt[15].classList.add(xe[21]),Rt(!1)):(Dt[6].classList.remove(xe[19],xe[20]),Dt[7].classList.remove(xe[19],xe[20]),gt(It))},gt=function(Ca){if(Ca){Dt[6].classList.add(xe[21]),Dt[7].classList.add(xe[21]),Dt[15].classList.add(xe[21]),Dt[14].innerText=xe[22],Dt[8].innerHTML=P[1],Dt[9].innerHTML=P[1];var Ha=lib.j(Dt[8],[xe[23]]),Ea=lib.j(Dt[9],[xe[23]]);Ha[0].addEventListener('click',function(){zt()}),Ea[0].addEventListener('click',function(){zt()}),Rt(!1)}else Dt[6].classList.remove(xe[21]),Dt[7].classList.remove(xe[21]),Dt[15].classList.remove(xe[21]),Et(),Rt(!0)},Ye=function(Ca){return!Ca||/^\s*$/.test(Ca)||0===Ca.length||!Ca.trim()},Hs=function(Ca,Ha){Ha.style.height=Ca+'px'},Pe=function(Ca){var Ha=lib.h(U);Ca.htx=Ha,Ca.el[3].parentNode.insertBefore(Ha,Ca.el[3])},Ue=function(Ca){Ca&&Ca.htx&&Ca.htx.parentNode.removeChild(Ca.htx),delete Ca.htx},Ns=function(Ca,Ha,Ea){lib.listen(Ca,Ha,function(){setTimeout(function(){0!=Ea.el[3].innerText.length||Ea.htx?Ea.htx&&Ue(Ea):Pe(Ea)},60),Ea.el[43].style.minHeight=Ea.el[3].parentNode.offsetHeight+27})},ws=function(Ca){var Ha=Ps(Ca),Ea=/(\b(https?|ftp|file):\/\/[-A-Z0-9+&@#\/%?=~_|!:,.;]*[-A-Z0-9+&@#\/%=~_|])/ig;return Ha.replace(Ea,function(Ma){return 0<Ma.indexOf('.jpg')||0<Ma.indexOf('.png')||0<Ma.indexOf('.gif')?'<img src="'+Ma+'"><br/>':'<a href="'+Ma+'">'+Ma+'</a><br/>'})},Ps=function(Ca){var Ha=document.createElement('DIV');Ha.innerHTML=Ca;var Ea=/(\b(https?|ftp|file):\/\/[-A-Z0-9+&@#\/%?=~_|!:,.;]*[-A-Z0-9+&@#\/%=~_|])/ig;return Ha.innerText.replace(Ea,function(Ma){return'\n'+Ma})},$s=function(Ca){var Ha=[Ca.image];xa(ee[1]);var Ea=x({p:Ha}),Ha=[Ea,Ca.about[1],Ca.about[0],Ca.url];return xa(ee[0]),x({p:Ha})},Ys=function(Ca,Ha){for(var Ea=[],Ma=0;Ma<Ha.length;Ma++)Ea.push(Ca.getElementsByClassName(Ha[Ma])[0]);return Ea},Ss=function(Ca,Ha){Ca.append('file[]',Ha)},Xs=function(Ca){for(var Ha in Ca.parentNode.removeChild(Ca),Gs)Gs[Ha].tab==Ca&&(delete Gs[Ha],ma(!1))},yt=function(Ca,Ha,Ea){xa(O[0]);var Ma=[ye(Ea.fname,Ea.lname),'profile.php',Ea.image,Ea.fname],Pa=x({p:Ma}),wa=lib.h(Pa);Ca.tab=wa,Ha.el[19].appendChild(wa),Ha.el[28].classList.remove(xe[24]),Ca.T=setInterval(function(){Ca.Ti--,0==Ca.Ti&&vs(Ha,Ca)},1e3)},vs=function(Ca,Ha){Ca.el[28].classList.add(xe[24]),clearInterval(Ha.T),Ha.T=null,Ha.tab.parentNode&&Ha.tab.parentNode.removeChild(Ha.tab)},Fe=function(Ca){for(var Ha in Ca)if(Ca.hasOwnProperty(Ha))return!1;return!0},_s=function(Ca){if(nt(Ca),0<Ca.rs&&!Fe(Ca.msg)){for(var Ha in Ca.msg);Ha,lib.$('seen.php','message_id_seen='+Ca.msg[Ha].id+'&chat_id='+Ca.chat_id,'POST',function(){})}var Ea=_t(Ca.chat_id);!1!==Ea&&(Ea.rs=0,Ea.tab.classList.remove(xe[25]),Ea.el[3].innerHTML=fs.gxr(cs(Ea.name,Ea.num)),Ea.el[6].innerHTML='');var Ma=kt(Ca.chat_id);Ca.r=0,Ca.rs=0,Ca.el[0].innerText=Ca.r,Ca.el[0].classList.add(xe[24]),Ca.tab.classList.remove(xe[26]),!1!==Ma&&'undefined'!=typeof Ma.el&&(Ma.el[0].classList.add(xe[24]),Ma.el[0].innerText=Ca.r)},nt=function(Ca){clearInterval(Ca.NO),Ca.NO=null,Ca.tab.classList.remove(xe[26])},Rs=function(Ca){if(!1===Gs['o'+Ca].type){if(Gs['o'+Ca].tab.classList.add(xe[7]),Object.keys(Gs)[Object.keys(Gs).length-1]==='o'+Ca&&2<=Object.keys(Gs).length){var Ha=Object.keys(Gs).slice(-2)[0];ma(Ha)}else ma(!1);Gs['o'+Ca].type=!0,_s(Gs['o'+Ca])}else Gs['o'+Ca].tab.classList.remove(xe[7]),ma(!1),Gs['o'+Ca].type=!1},qt=function(Ca){if(Ca.Vt&&null!=Ca.chat_id){var Ha=[xe[27]];xa(ae[2]),Ca.el[15].innerHTML=x({p:Ha}),Ds(Ca.el[15],!1),Ca.Vt=!1;var Ea=lib.j(Ca.el[15],[xe[28],xe[29],xe[30],xe[31]]);lib.listen(Ea[3],'click',function(){Ea[0].focus()}),Is(Ea[0],'keydown',Ca,Ea),Is(Ea[0],'cut',Ca,Ea),Is(Ea[0],'paste',Ca,Ea),Is(Ea[0],'drop',Ca,Ea),Ea[1].addEventListener('click',function(Ma){if(Ma.stopPropagation(),Ma.preventDefault(),!Ca.Vt){Ds(Ca.el[15],!0),Ca.Vt=!0;var Pa=Ca.Vx,wa=[];for(var $a in Pa)wa.push(Pa[$a][2]);var Va=[];if(0<Pa.length){for(var Oa=Ca,Sa=0;Sa<Oa.VXI.length;Sa++)Pa.push([Oa.VXI[Sa][0],Oa.VXI[Sa][1],Oa.VXI[Sa][2],null,null]);var Ba='';if(1==Pa.length)Ba+=Pa[0][0]+' '+Pa[0][1],Va.push(Pa[0][2]);else if(1<Pa.length)for(var $a in Pa)Va.push(Pa[$a][2]),1>$a&&(Ba+=Pa[$a][0]),0==$a&&2<Pa.length&&(Ba+=' , '),$a==Pa.length-1&&(Ba+=' and '),(1==$a||3==Pa.length&&1<$a)&&(Ba+=Pa[$a][0]),3<Pa.length&&$a==Pa.length-1&&(Ba+=Pa.length-2+' others');1==Ca.Mx?(Ca.id=Va,Ca.el[27].innerText=Ba,null!=Ca.chat_id&&lib.$('addfriend.php',ve(wa)+'&chat_id='+Ca.chat_id,'POST',function(){})):fa(Ce({name_first:Ba,name_last:'',user_id:Va,id:null,emoji:Pa[0][3],color:'#4080ff',type:1,bk:0,mu:0,unread:0,status:0},'',!0))}}Ca.Vx=[]})}},ve=function(Ca){for(var Ma,Ha=document.createElement('form'),Ea=0;Ea<Ca.length;Ea++)Ma=document.createElement('input'),Ma.setAttribute('type','text'),Ma.setAttribute('name','id[]'),Ma.setAttribute('value',Ca[Ea]),Ha.appendChild(Ma);return lib.d(Ha)},ye=function(Ca,Ha){return Ca+' '+Ha},Bs=function(Ca,Ha,Ea){var Ma=new XMLHttpRequest;Ma.addEventListener('readystatechange',function(){4===this.readyState&&(200===this.status?Ha(this.response):Ea(this.response))}),Ma.upload.addEventListener('progress',function(wa){var $a;!0===wa.lengthComputable&&($a=Math.round(100*(wa.loaded/wa.total)))}),Ma.open('post','uploads.php'),Ma.send(Ca)},ea=function(){},Us=function(){},Zs=function(){},Ot=function(){return window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth},Pt=function(Ca,Ha){for(var Ea in Ca.color=Ha.bg.color,Ca.el[21].style.color=Ha.bg.color,Ca.msg){var Ma=lib.j(Ca.msg[Ea].ht,[xe[32]]);Ma[0]&&(Ma[0].style.backgroundColor=Ha.bg.color)}},$t=function(Ca,Ha){var Ea=0==Ha.nm.tp?Ha.nm.nx:cs(Ha.nm.nx,Ha.nm.nm);Ea=fs.gxr(Ea),Ca.el[27].innerHTML=Ea,Ca.el[18].innerText=Ea},wt=function(Ca,Ha){Ca.emoji=Ha.emoji.data,Ca.el[17].src=Ha.emoji.data[0].path},ot=function(Ca,Ha,Ea,Ma,Pa,wa,$a){xa(te[8]);var Va=[Ca.chat_id,Ha,fs.gxr(cs(Ca.name,Ca.num)),Ma,Pa,fs.gxr(wa),lib.getDate(Ca.date),$a,Ea],Oa=lib.h(x({p:Va})),Sa=lib.j(Oa,[xe[33],xe[34],xe[35],xe[36],xe[37],xe[38],xe[39]]),Ba=Object.keys(Ct).length;return Ct['h'+Ba]={},Ct['h'+Ba].el=Sa,Ct['h'+Ba].tab=Oa,Ct['h'+Ba].type=Ca.type,Ct['h'+Ba].bk=Ca.bk,Ct['h'+Ba].mu=Ca.mu,Ct['h'+Ba].num=Ca.num,Ct['h'+Ba].name=Ca.name,Ct['h'+Ba].rs=Ca.unread,Ct['h'+Ba].chat_id=Ca.chat_id,Ct['h'+Ba].color=Ca.color,Ct['h'+Ba].emoji=Ca.emoji,Ct['h'+Ba].user_id=Ca.user_id,Oa.addEventListener('click',function(){return function(Ka){Ka.preventDefault(),Ka.stopPropagation();var Da=sa(Ca.chat_id),Aa=ia(Ca.chat_id);!1===Da?!1===Aa?fa(Ce({id:Ca.chat_id,name_first:cs(Ca.name,Ca.num),name_last:'',emoji:Ca.emoji,color:Ca.color,user_id:Ca.user_id,type:Ca.type,bk:Ca.bk,mu:Ca.mu},'',!0)):st(Aa):lt(Da)}}()),Oa},He=function(Ca){if(Ge){Ge=!1,$e(),we=lib.h(P[2]),Dt[17].appendChild(we),lib.$('threadlist_info.php','start='+Ca+'&length='+15,'post',function(Ea){$e();var Ma=JSON.parse(Ea);Ge=Ma.offset!=Ze,Ze=Ma.offset;for(var Pa=Ma.data,wa=0;wa<Pa.length;wa++){var $a=Pa[wa],Va=_t($a.chat_id);if(!1===Va){var Oa=ut($a.image),Sa=1==$a.type?xe[40]:'',Ba='';$a.num==$a.seen_num&&1==$a.sender?Ba=xe[1]+' '+xe[2]:$a.num!=$a.seen_num&&1==$a.sender&&(Ba='repliedLast');var Ka='',Da='';if(0<$a.unread&&0==$a.sender)var Ka='('+$a.unread+')',Da=xe[25];var Aa=0==$a.sender&&1==$a.type?$a.namex[0]+': '+$a.message:$a.message,za=ot($a,Oa,Ka,Sa,Ba,Aa,Da);Dt[17].appendChild(za)}}},function(){})}},Xe=function(Ca,Ha,Ea){Le!=Ca[9]&&Ha.el[1].classList.remove(xe[1],xe[2]),Ha.el[2].innerHTML=Ea},na=function(){be=Date.now()+ft(),lib.$('moudle.php',null,'POST',function(Ha){var Ea=JSON.parse(Ha);C=Ea.ml,M=Ea.ad,P=Ea.AP,$=Ea.sk,V=Ea.kl,O=Ea.jl,B=Ea.at,A=Ea.il,U=Ea.iix,Q=Ea.tbx,Y=Ea.Jno,ee=Ea.prs,te=Ea.pti,ae=Ea.Wi,ie=Ea.fel,le=Ea.zl,ne=Ea.jc,pe=Ea.skx,he=Ea.ila,ce=Ea.adx,ue=Ea.lz,ge=Ea.Hl,_e=Ea.me,xe=Ea.plc,T=Ea.socket_url,N=Ea.domain;var Ma=Ea.cluster,Pa=Ea.auth_file,wa=Ea.token;Le=Ea.user_id;var $a={params:{token:wa,user_id:Le}},Va=new Pusher(Ea.key,{authTransport:'jsonp',authEndpoint:Pa,auth:$a,cluster:Ma,encrypted:!1});la=Va.subscribe('private-p_'+Le),la.bind('pusher:subscription_succeeded',function(){J(),Xt(!1)}),la.bind('pusher:subscription_error',function(){Xt(!0)}),Va.connection.bind('unavailable',function(){Xt(!0)}),Va.connection.bind('connected',function(){Xt(!1)}),Dt=lib.j(document.body,ie),fs.ro(Dt[16].parentNode,function(){He(Ze)}),Dt[16].addEventListener('click',function(Da){Da.preventDefault(),bt?(bt=!1,this.parentNode.classList.remove(xe[41])):(bt=!0,this.parentNode.classList.add(xe[41]),Tt&&(Tt=!1,He(Ze)))}),Ls(Dt[12],'keydown',Dt[2]),Ls(Dt[12],'cut',Dt[2]),Ls(Dt[12],'paste',Dt[2]),Ls(Dt[12],'drop',Dt[2]),Ls(Dt[3],'keydown',Dt[5]),Ls(Dt[3],'cut',Dt[5]),Ls(Dt[3],'paste',Dt[5]),Ls(Dt[3],'drop',Dt[5]);var Oa=Dt[0],Sa=Dt[1],Ba=Dt[2];Sa.addEventListener('click',function(){os=!1,Oa.parentNode.classList.remove(xe[41])}),Oa.addEventListener('click',function(){os=!0,Ot()>St?(Ht(!0),Vt=!1):this.parentNode.classList.add(xe[41])});var Ka=Dt[4];Dt[10].addEventListener('click',function(Da){At(this,Da),Da.stopPropagation()}),Dt[11].addEventListener('click',function(Da){At(this,Da),Da.stopPropagation()}),Ka.addEventListener('click',function(Da){At(this,Da),Da.stopPropagation()}),window.addEventListener('resize',function(){ma(!1),Ot()>St&&!Vt?(Ht(!0),Dt[0].parentNode.classList.remove(xe[41])):Ot()<St&&Mt&&(Dt[0].parentNode.classList.remove(xe[41]),Ht(!1))},!0),ya.addEventListener('click',function(){Ta=!Ta,this.classList.toggle(xe[41])},!1),Ee(),setInterval(function(){Ee()},1.2e6),la.bind('call',function(Da){Da=JSON.parse(Da),Ts[0]?Da.user_id!==Ts[1]&&lib.$('callfriend2.php?friend_id='+Da.user_id,'type=3','POST',function(){},function(){}):(Ts[0]=!0,Ts[1]=Da.user_id,ha({ht:Da.ht,id:Da.user_id,vid:Da.video,ability:Da.ability}))}),la.bind('online',function(Da){Da=JSON.parse(Da),Js(Da,'ax')&&(1==Da.status?(It=!1,gt(It)):(It=!0,gt(It)));var Aa=Da.user_id,za=tt(Aa),Ia=za.chat_id,Xa=sa(Ia),Ra=_t(Ia);!1!==Ra&&(0==Da.status&&Ra.el[0].classList.remove(xe[42]),1==Da.status&&Ra.el[0].classList.add(xe[42])),!1!==za&&(0==Da.status&&(za.el[1].classList.add(xe[24]),za.rdy=!1,za.status=0),1==Da.status&&(za.el[1].classList.remove(xe[24]),za.rdy=!0,za.status=1)),!1!==Xa&&(0==Da.status&&(Xa.tab.classList.remove(xe[43]),Xa.el[29].classList.add(xe[24]),Xa.rdy=!1,Xa.status=0),1==Da.status&&(Xa.tab.classList.add(xe[43]),Xa.el[29].classList.remove(xe[24]),Xa.rdy=!0,Xa.status=1)),It||Et()}),la.bind('typing',function(Da){Da=JSON.parse(Da);var Aa=sa(parseInt(Da.id));if(!1!==Aa){xa(O[0]);var za=[ye(Da.fname,Da.lname),'profile.php',Da.image,Da.fname],Ia=x({p:za}),Xa=vt(Da.user_id,Aa.Li);if(!1!==Xa)Xa.Ti=11,null==Xa.T&&yt(Xa,Aa,Da);else{var Ra=Object.keys(Aa.Li).length,Wa=Aa.Li['x'+Ra]={};Wa.Ti=11,Wa.user_id=Da.user_id,Wa.T=null,yt(Wa,Aa,Da)}Aa.el[2].scrollTop=Aa.el[2].scrollHeight}}),de=function(Da,Aa){lib.$('retrieved.php','message_id='+Aa+'&chat_id='+Da,'POST',function(){})},la.bind('message',function(Da){var Aa=!0,za=JSON.parse(Da);if(Js(za,'jm')&&(1==za.jm.mu?ns(za.jm.chat_id):Ft(za.jm.chat_id,{status:!0})),Js(za,'jn')&&(1==za.jn.bk?ds(za.jn.chat_id):Jt(za.jn.chat_id,{status:!0})),0<za[0]&&null!=za[0]){za[1];(Js(za,'seen')||Js(za,'bg')||Js(za,'nm')||Js(za,'emoji'))&&(Aa=!1);var Xa=sa(za[0]),Ra=ia(za[0]),Wa=kt(za[0]),qa=_t(za[0]);if(!1!==qa){if(Aa&&(qa.tab.parentNode.insertBefore(qa.tab,qa.tab.parentNode.firstChild),qa.el[4].innerText=lib.getDate(za[3])),Le!=za[9]&&Aa&&qa.tab.classList.add(xe[25]),Js(za,'gm')&&(qa.el[5].innerHTML=ut(za.gm)),Js(za,'xj')){qa.num=za.xj.num,qa.name=za.xj.name;var Ja=cs(za.xj.name,za.xj.num);qa.el[3].innerHTML=fs.gxr(Ja)}if(Js(za,'msg')&&(Le!=za[9]&&qa.el[1].classList.remove(xe[1],xe[2]),qa.el[2].innerHTML=0==qa.type?fs.gxr(za.msg):fs.gxr(ye(za.nameX[0]+':',za.msg))),Js(za,'nm')){var Ja=0==za.nm.tp?za.nm.nx:cs(za.nm.nx,za.nm.nm);qa.el[3].innerHTML=fs.gxr(Ja);var Fa=Je(za.nm);Xe(za,qa,Fa[0])}if(Js(za,'bg')){qa.color=za.bg.color;var Fa=We(za[9],za.bg);Xe(za,qa,Fa[0])}if(Js(za,'emoji')){qa.emoji=za.emoji.data;var Fa=qe(za.emoji,!1);Xe(za,qa,Fa[0])}if(Js(za,'action')){var Fa=Re(za.action,!1);!1!==Fa&&Xe(za,qa,Fa[0])}if(Js(za,'brief')){var Fa=De(za);Xe(za,qa,Fa[0])}if(Js(za,'sticker')){var Fa=De(za);Xe(za,qa,Fa[0])}if(Js(za,'images')){var Fa=Ke(za.images);Xe(za,qa,Fa[0])}if(Js(za,'files')){var Fa=Ke(za.files);Xe(za,qa,Fa[0])}if(Js(za,'call')){var Fa=Ie(za.call);Xe(za,qa,Fa[0])}Js(za,'seen')&&za.seen.num==za.seen.count&&qa.el[1].classList.add(xe[1],xe[2]),Aa&&za[9]!=Le&&(qa.rs++,qa.el[6].innerText='('+qa.rs+')')}else;if(!1!==Wa&&Aa&&'undefined'!=typeof Wa.el&&(Wa.el[0].classList.remove(xe[24]),Wa.el[0].innerText=++Wa.rs,Wa.el[0].classList.remove(xe[24])),!1!==Xa){if(Aa&&!Js(za,'call')&&za[9]!=Le&&ks&&0==Xa.mu&&Be(Xa),Js(za,'xj')){var Ja=fs.gxr(cs(za.xj.name,za.xj.num));Xa.el[27].innerHTML=Ja,Xa.el[18].innerHTML=Ja}Js(za,'nm')&&$t(Xa,za),Js(za,'bg')&&Pt(Xa,za),Js(za,'emoji')&&wt(Xa,za);var Ua=vt(za[9],Xa.Li);!1!==Ua&&vs(Xa,Ua),za.key!=be&&Ks([za],Xa,!1,!1,null,!0),++Xa.rs,Xa.el[3]===document.activeElement&&Aa&&za[0]!=Le?_s(Xa):Aa&&za[0]!=Le&&(Xa.el[0].innerText=++Xa.r,Xa.el[0].classList.remove(xe[24]),null==Xa.NO&&(Xa.NO=setInterval(function(){Xa.tab.classList.toggle(xe[26])},600))),!0===Xa.type?Xa.el[2].scrollTop=Xa.el[2].scrollHeight:!1===Xa.type&&Aa}else if(!1!==Ra&&Aa){var Za=Ra[1];if(Aa&&!Js(za,'call')&&za[9]!=Le&&ks&&0==Za.mu&&Be(Za),Js(za,'xj')){var Ja=fs.gxr(cs(za.xj.name,za.xj.num));Za.el[27].innerHTML=Ja,Za.el[18].innerHTML=Ja}Js(za,'nm')&&$t(Za,za),Js(za,'bg')&&Pt(Za,za),Js(za,'emoji')&&wt(Za,za),Za.eli[1].innerText=++Za.r,Za.eli[1].classList.remove(xe[8]),Ks([za],Za,!1,!1,null,!0)}qa&&(Xa||Ra)||lib.$('chat_info.php','chat_id='+za[0],'post',function(Ga){var Qa=JSON.parse(Ga);Xa||Ra||!Aa||Lt(Qa,za),qa||pt(za,Qa)}),Aa&&Js(za,'message_id')&&de(za[0],za.message_id)}})})},qs=function(Ca,Ha){return-1<Ca-Ha?[Ca-Ha,Ha]:[0,Ca]},Js=function(Ca,Ha){return!!Ca.hasOwnProperty(Ha)},ft=function(){return'_'+new Date().getTime()+Math.random().toString(36).substr(2,9)},Ce=function(Ca,Ha,Ea){var Ma=Object.keys(Os).length;if(Ha)var Pa=lib.j(Ha,ue);return Os['s'+Ma]={},Os['s'+Ma].fname=Ca.name_first,Os['s'+Ma].lname=Ca.name_last,Os['s'+Ma].id=Ca.user_id,Os['s'+Ma].key=ft(),Os['s'+Ma].chat_id=Ca.id,Os['s'+Ma].MK=!1,Os['s'+Ma].color=Ca.color,Os['s'+Ma].status=Ca.status,Os['s'+Ma].sh=Ea,Os['s'+Ma].tab=Ha,Os['s'+Ma].bk=Ca.bk,Os['s'+Ma].mu=Ca.mu,Os['s'+Ma].VXI=null,Os['s'+Ma].rs=Ca.unread,Os['s'+Ma].Mx=Ca.type,Os['s'+Ma].bk=Ca.bk,Os['s'+Ma].mu=Ca.mu,Os['s'+Ma].rdy=!0,Os['s'+Ma].el=Pa,Os['s'+Ma].emoji=Ca.emoji,Os['s'+Ma].offset=0,Os['s'+Ma].Ti=null,Os['s'+Ma].Kl=!1,Os['s'+Ma].Li=null,Os['s'+Ma].Vx=[],Os['s'+Ma].Vt=!0,Os['s'+Ma]},ra=function(Ca,Ha,Ea){da(Ha,Ce(Ca,Ha,Ea))},da=function(Ca,Ha){Ca.addEventListener('mouseenter',function(){this.children[0].removeAttribute('href')},!1),Ca.addEventListener('click',function(Ea){Ea.stopPropagation(),Ea.stopImmediatePropagation(),Ea.cancelBubble=!0,Ea.preventDefault();var Ma=pa(this),Pa=ca(this);!1===Ma?!1===Pa?fa(Ha):st(Pa):lt(Ma)})},Cs=function(Ca,Ha){return Ca[0]===Ha[0]?0:Ca[0]<Ha[0]?-1:1},sa=function(Ca){for(var Ha in Gs)if(Gs[Ha].chat_id==Ca||Gs[Ha].key==Ca)return Gs[Ha];return!1},_t=function(Ca){for(var Ha in Ct)if(Ct[Ha].chat_id==Ca)return Ct[Ha];return!1},kt=function(Ca){for(var Ha in Os)if(Os[Ha].chat_id==Ca||Os[Ha].key==Ca)return Os[Ha];return!1},tt=function(Ca){for(var Ha in Os)if(Os[Ha].id[0]&&Os[Ha].id[0]==Ca)return Os[Ha];return!1},ia=function(Ca){for(var Ha in Qs)if(Qs[Ha].chat_id==Ca||Qs[Ha].key==Ca)return[Ha,Qs[Ha]];return!1},pa=function(Ca){for(var Ha in Os)if(Os[Ha].tab==Ca)return'undefined'==typeof Os[Ha].chat_id||null==Os[Ha].chat_id?sa(Os[Ha].key):sa(Os[Ha].chat_id);return!1},ca=function(Ca){for(var Ha in Os)if(Os[Ha].tab==Ca)for(var Ea in Qs)if(Qs[Ea].key===Os[Ha].key)return[Ea,Qs[Ea]];return!1},Fs=function(Ca,Ha,Ea,Ma){var Pa=[Ea/Ca,Ma/Ha];return Pa=Math.min(Pa[0],Pa[1]),{width:Ca*Pa,height:Ha*Pa}},gs=function(Ca,Ha,Ea,Ma,Pa,wa,$a){var Va=!1;for(var Oa in wa&&($a.parentNode.replaceChild(Ca,$a),Va=!0),Ea.msg)if(Ea.msg[Oa].id==Ha&&'undefined'!=typeof Ha&&null!=Ha){Va=!0,Ea.msg[Oa].ht.parentNode.replaceChild(Ca,Ea.msg[Oa].ht),delete Ea.msg[Oa];break}var Sa=Object.keys(Ea.msg).length;Ea.msg['r'+Sa]={},Ea.msg['r'+Sa].ht=Ca,Ea.msg['r'+Sa].id=Ha,Va||(Ma?Pa.firstChild?Pa.insertBefore(Ca,Pa.firstChild):Pa.appendChild(Ca):(Ea.el[30].innerText='',Pa.appendChild(Ca)))},qe=function(Ca,Ha){var Ea=[];if(Ca.id==Le){xa(Y[3]);var Ma=[xe[16]];Ea[0]=x({px:Ma}),Ea[1]=!0;var Pa=['12:20am',xe[16],Ca.data[0].path]}else{xa(Y[3]);var Ma=[ye(Ca.nx[0],Ca.nx[1])];Ea[0]=x({px:Ma}),Ea[1]=!1;var wa=Ha?['href=\'domain\''+Ca.id,'a']:['','span'],Pa=[wa[0],Ca.nx[0],Ca.nx[1],wa[1]];xa(te[1]);var $a=x({p:Pa}),Pa=['12:20am',$a,Ca.data[0].path]}xa(te[7]);var Va=lib.h(x({p:Pa}));return Ea[2]=Va,Ea},Je=function(Ca){var Ha=[],Ea=0==Ca.tp,Ma=Ea?xe[44]:xe[45],Pa=Ea?fs.gxr(Ca.nx):'';if(Ca.id==Le){Ha[0]=xe[16]+' '+Ma,Ha[1]=!0;var wa=['12:20am',xe[16]+' '+Ma,Pa]}else{Ha[0]=ye(Ca.name[0],Ca.name[1]+' '+Ma),Ha[1]=!1;var $a=r?['href=\''+N+'\''+Ca.id,'a']:['','span'],wa=[$a[0],Ca.name[0],Ca.name[1],$a[1]];xa(te[1]);var Va=x({p:wa}),wa=['12:20am',Va+Ma,Pa]}xa(te[6]);var Oa=lib.h(x({p:wa}));return Ha[2]=Oa,Ha},We=function(Ca,Ha){var Ea=[];xa(Y[5]);var Ma=[Ha.info];Ca==Le?(Ea[0]=x({px:Ma}),Ea[1]=!0):(Ea[0]=x({px:Ma}),Ea[1]=!1);var Pa=['','',Ha.info+xe[46]];xa(te[0]);var wa=lib.h(x({p:Pa}));return Ea[2]=wa,Ea},Re=function(Ca,Ha){var Ea=[],Ma=Ca[0];if(Ma[0]==Ma[1]){xa(te[1]);var Pa=Ha?['href=\''+N+'\''+Ma[0],'a']:['','span'],wa=[Pa[0],Ma[3],Ma[4],Pa[1]],$a=x({p:wa});if(1==Ma[2]){var Va=$a+xe[47],wa=['','_5wzj',Va];Ea[0]=Va}if(0==Ma[2]){var Va=$a+xe[47],wa=['',xe[48],Va];Ea[0]=Va}xa(te[0]);var Oa=lib.h(x({p:wa}));return Ea[1]=Oa,Ea[2]=!1,Ea}if(Ma[0]!=Ma[1]){xa(te[1]);for(var Pa=Ha?['href=\''+N+'\''+Ma[0],'a']:['','span'],wa=[Pa[0],Ma[3],Ma[4],Pa[1]],$a=x({p:wa}),Sa='',Ba='',Ka=0;Ka<Ca.length;Ka++){xa(te[1]);var Pa=Ha?['href=\''+N+'\''+Ca[Ka][0],'a']:['','span'],wa=[Pa[0],Ca[Ka][5],Ca[Ka][6],Pa[1]];0==Ka&&(Sa+=x({p:wa})),1==Ka&&Ka==Ca.length-1&&(Sa+='and '+x({p:wa})),1==Ka&&Ca.length>Ka+1&&(Sa+=', '+x({p:wa})),1<Ka&&(Ba+=Ca[Ka][5]+' '+Ca[Ka][6])}if(2<Ca.length){var wa=[Ba,Ca.length-2];xa(te[2]),Sa+='and '+x({p:wa})}if(Ma[1]!=Le)var wa=[Ma[0],Ma[3],Ma[4]],$a=x({p:wa});else $a=xe[16];if(1==Ma[2]){var Va=$a+' added '+Sa;Ea[0]=Va;var wa=['','_5wzj',Va]}if(0==Ma[2]){var Va=$a+' removed '+Sa+' from the conversation';Ea[0]=Va;var wa=['',xe[48],Va]}xa(te[0]);var Oa=lib.h(x({p:wa}));return Ea[1]=Oa,Ea[2]=!0,Ea}return!1},Ke=function(Ca){var Ha=[];if(xa(Y[0]),Ca[9]==Le){var Ea=[xe[16]];return Ha[0]=x({px:Ea}),Ha[1]=!0,Ha}var Ea=[Ca[5]];return Ha[0]=x({px:Ea}),Ha[1]=!1,Ha},De=function(Ca){var Ha=[];if(xa(Y[1]),Ca[9]==Le){var Ea=[xe[16]];return Ha[0]=x({px:Ea}),Ha[1]=!0,Ha}var Ea=[Ca[5]];return Ha[0]=x({px:Ea}),Ha[1]=!1,Ha},Ie=function(Ca){var Ha=[];return 0==Ca.status&&(Ha[0]=Ca.to+' called '+Ca.to,Ha[1]=!0),1==Ca.status&&(Ha[0]=Ca.frm+' called '+Ca.to,Ha[1]=!1),2==Ca.status&&(Ha[0]=Ca.to+' missed call from '+Ca.frm,Ha[1]=!1),3==Ca.status&&(Ha[0]=Ca.frm+' missed call from '+Ca.to,Ha[1]=!1),Ha},R=function(Ca,Ha){console.log(Ca),console.log('retrived seen');var Ea=Ha.msg[Object.keys(Ha.msg)[Object.keys(Ha.msg).length-1]];if(Ea.id!=Ca.seen.message_id)return void console.log('retrived seen return ');if('seen'!=Ca.seen.type_seen)console.log('retrived seen seems retrived ');else if(0==Ca.seen.type){for(var Ma=0;Ma<Ca.seen.data.length;Ma++)if(Ca.seen.data[Ma].user_id!=Le){var Pa=['seen at '+lib.getDate(Ca.seen.data[Ma].date)];xa(te[3]),Ha.el[30].innerHTML=x({p:Pa})}}else{var wa=Ca.seen.data,$a='';if(Ca.seen.num==Ca.seen.count)$a='everyone';else{for(var Va=0;Va<wa.length;Va++)0<Va&&($a+=' , '),$a+=ye(wa[Va][0],wa[Va][1]);Ca.seen.count>Ca.seen.num&&3<=Ca.seen.num&&($a+=' , ',$a+=Ca.seen.count-Ca.seen.num,$a+='other')}var Pa=['seen by '+$a];xa(te[3]),Ha.el[30].innerHTML=x({p:Pa})}},Ks=function(Ca,Ha,Ea,Ma,Pa,wa){var $a=Ha.el[5];Ha.el[30].innerText='';for(var Oa,Va=0;Va<Ca.length;Va++){if(Oa=!1,Js(Ca[Va],'seen')&&R(Ca[Va],Ha),Js(Ca[Va],'time')){var Sa=[lib.getDate(Ca[Va].time)];xa(C[6]);var Ba=lib.h(x({p:Sa}));Ea?$a.firstChild?$a.insertBefore(Ba,$a.firstChild):$a.appendChild(Ba):$a.appendChild(Ba),Ha.HN.e=!1}if(Js(Ca[Va],'emoji')){var Ka=qe(Ca[Va].emoji,!0),Ba=Ka[2];wa&&Me(Ha,Ka[0],Ka[1]),Ea?$a.firstChild?$a.insertBefore(Ba,$a.firstChild):$a.appendChild(Ba):$a.appendChild(Ba),Ha.HN.e=!1}if(Js(Ca[Va],'nm')){var Ka=Je(Ca[Va].nm),Ba=Ka[2];wa&&Me(Ha,Ka[0],Ka[1]),Ea?$a.firstChild?$a.insertBefore(Ba,$a.firstChild):$a.appendChild(Ba):$a.appendChild(Ba),Ha.HN.e=!1}if(Js(Ca[Va],'bg')){var Ka=We(Ca[Va][9],Ca[Va].bg),Ba=Ka[2];wa&&Me(Ha,Ka[0],Ka[1]),Ea?$a.firstChild?$a.insertBefore(Ba,$a.firstChild):$a.appendChild(Ba):$a.appendChild(Ba),Ha.HN.e=!1}if(Js(Ca[Va],'action')){var Ka=Re(Ca[Va].action,!0);if(!1!==Ka){var Ba=Ka[1],Da=Ka[2],Aa=Ka[0];wa&&Me(Ha,Aa,Da),gs(Ba,Ca[Va].message_id,Ha,Ea,$a,Ma,Pa),Ha.HN.e=!1}}if(1==Ca[Va][8]){if(Js(Ca[Va],'call')){var za=Ca[Va].call;if(wa){var Ka=Ie(za);Me(Ha,Ka[0],Ka[1])}var Sa=[za.to,za.frm,lib.getDate(za.date),Ca[Va][6],Ca[Va][7]];xa(A[za.status]);var Ba=lib.h(x({p:Sa})),Ia=lib.j(Ba,['cgl']);lib.listen(Ia[0],'click',function(){Ve(Ha)}),Oa=!0,Ha.HN.e=!1}else if(Js(Ca[Va],'brief')){if(wa){var Ka=De(Ca[Va]);Me(Ha,Ka[0],Ka[1])}xa($[1]);var Xa=x();xa(C[3]);var Sa=[Xa,Ca[Va][6],Ca[Va][7],Ca[Va][3]],Ba=lib.h(x({p:Sa})),Ra=lib.j(Ba,pe);Ra[0].appendChild(lib.h('<div  class="_2poz _ui9 _383m"><img class="_19_s _1ift img" src="'+Ca[Va].brief.icon+'" alt=""></div>')),Ha.HN.e=!1,Oa=!0}else if(Js(Ca[Va],'sticker')){if(wa){var Ka=De(Ca[Va]);Me(Ha,Ka[0],Ka[1])}xa($[1]);var Xa=x();xa(C[3]);var Sa=[Xa,Ca[Va][6],Ca[Va][7],Ca[Va][3]],Ba=lib.h(x({p:Sa})),Ra=lib.j(Ba,pe);fs.rs(Ca[Va].sticker,Ra[0]),Oa=!0,Ha.HN.e=!1}else if(Js(Ca[Va],'files')||Js(Ca[Va],'images')){if(wa){var Ka=Ke(Ca[Va]);Me(Ha,Ka[0],Ka[1])}var Wa='',qa='';if(Js(Ca[Va],'files')){for(var Ja=Ca[Va].files,Fa='',Ua=0;Ua<Ja.length;Ua++){xa(B[0]);var Sa=[Ja[Ua].path,Ja[Ua].name];Fa+=x({p:Sa})}xa(B[6]);var Sa=[Fa];Wa=x({p:Sa})}if(Js(Ca[Va],'images')){var Za=Ca[Va].images;if(1==Za.length){xa(B[1]);var Ga=Fs(Za[0].width,Za[0].height,Es,bs),Sa=[Za[0].path,Ga.width,Ga.height];qa=x({p:Sa})}else if(1<Za.length){var Qa,Ya,ti=2,si='<tr class="_51mx">';0==Za.length%2&&4>=Za.length&&(Qa=Ya=89,ti=1),1==Za.length%2&&(Qa=Ya=59),4<Za.length&&(Qa=Ya=59);for(var Ua=0,ai=0;Ua<Za.length;Ua++,ai++){xa(B[5]);var Sa=[Za[Ua].path,Qa,Ya];si+=x({p:Sa}),(ai==ti||Ua==Za.length-1)&&(si+='</tr>',Ua!=Za.length-1&&(si+='<tr class="_51mx">'),ai=-1)}xa(B[2]);var Sa=[si];qa=x({p:Sa})}}xa(B[4]);for(var Sa=[Wa,qa,Ca[Va].fname,Ca[Va].lname,Ca[Va][3],Ca[Va][7],Ca[Va][6]],Ba=lib.h(x({p:Sa})),ii=Ba.getElementsByClassName('_vi7'),li=0;li<ii.length;li++)ii[li].addEventListener('click',function(){var ri=li;return function(pi){var hi=new FullPic(Za[ri],'',this.dataset.orientation);hi.open(),pi.preventDefault(),pi.stopPropagation()}}());Oa=!0,Ha.HN.e=!1}else if(Js(Ca[Va],'msg'))if(!0==Ha.HN.e&&Ha.HN.id==Ca[Va][9]){xa(C[2]);var Sa=[fs.gxr(Ca[Va].msg),Ca[Va][3]],Xa=lib.h(x({p:Sa})),ni=Ha.HN.el[0];gs(Xa,Ca[Va].message_id,Ha,Ea,ni,Ma,Pa)}else{xa(C[2]);var Sa=[fs.gxr(Ca[Va].msg),Ca[Va][3]],Xa=x({p:Sa});xa(C[3]);var Sa=[Xa,Ca[Va][6],Ca[Va][7],Ca[Va][3]],Ba=lib.h(x({p:Sa}));Ha.HN.e=!0,Ha.HN.id=Ca[Va][9],Ha.HN.el=lib.j(Ba,[xe[15]]),Oa=!0}}else if(Js(Ca[Va],'call')){var za=Ca[Va].call;if(wa){var Ka=Ie(za);Me(Ha,Ka[0],Ka[1])}var Sa=[za.to,za.frm,lib.getDate(za.date),Ca[Va][6],Ca[Va][7]];xa(A[za.status]);var Ba=lib.h(x({p:Sa})),Ia=lib.j(Ba,['cgl']);lib.listen(Ia[0],'click',function(){Ve(Ha)}),Oa=!0,Ha.HN.e=!1}else if(Js(Ca[Va],'brief')){if(wa){var Ka=De(Ca[Va]);Me(Ha,Ka[0],Ka[1])}xa($[1]);var Xa=x();xa(B[3]);var Sa=['',Xa],Ba=lib.h(x({p:Sa})),Ra=lib.j(Ba,pe);Ra[0].appendChild(lib.h('<div  class="_2poz _ui9 _383m" tabindex="0"><img class="_19_s _1ift img" src="'+Ca[Va].brief.icon+'" alt=""></div>')),Oa=!0,Ha.HN.e=!1}else if(Js(Ca[Va],'sticker')){if(wa){var Ka=De(Ca[Va]);Me(Ha,Ka[0],Ka[1])}xa($[1]);var Xa=x();xa(B[3]);var Sa=['',Xa],Ba=lib.h(x({p:Sa})),Ra=lib.j(Ba,pe);fs.rs(Ca[Va].sticker,Ra[0]),Oa=!0,Ha.HN.e=!1}else if(Js(Ca[Va],'files')||Js(Ca[Va],'images')){if(wa){var Ka=Ke(Ca[Va]);Me(Ha,Ka[0],Ka[1])}var Wa='',qa='';if(Js(Ca[Va],'files')){for(var Ja=Ca[Va].files,Fa='',Ua=0;Ua<Ja.length;Ua++){xa(B[0]);var Sa=[Ja[Ua].path,Ja[Ua].name];Fa+=x({p:Sa})}xa(B[6]);var Sa=[Fa];Wa=x({p:Sa})}if(Js(Ca[Va],'images')){var Za=Ca[Va].images;if(1==Za.length){xa(B[1]);var Ga=Fs(Za[0].width,Za[0].height,Es,bs),Sa=[Za[0].path,Ga.width,Ga.height];qa=x({p:Sa})}else if(1<Za.length){var Qa,Ya,ti=2,si='<tr class="_51mx">';0==Za.length%2&&4>=Za.length&&(Qa=Ya=89,ti=1),1==Za.length%2&&(Qa=Ya=59),4<Za.length&&(Qa=Ya=59);for(var Ua=0,ai=0;Ua<Za.length;Ua++,ai++){xa(B[5]);var Sa=[Za[Ua].path,Qa,Ya];si+=x({p:Sa}),(ai==ti||Ua==Za.length-1)&&(si+='</tr>',Ua!=Za.length-1&&(si+='<tr class="_51mx">'),ai=-1)}xa(B[2]);var Sa=[si];qa=x({p:Sa})}}xa(B[3]);for(var Sa=[Wa,qa],Ba=lib.h(x({p:Sa})),ii=Ba.getElementsByClassName('_vi7'),li=0;li<ii.length;li++)ii[li].addEventListener('click',function(){var ri=li;return function(pi){var hi=new FullPic(Za[ri],'',this.dataset.orientation);hi.open(),pi.preventDefault(),pi.stopPropagation()}}());Oa=!0,Ha.HN.e=!1}else if(Js(Ca[Va],'msg'))if(!0==Ha.HN.e&&Ha.HN.id==Ca[Va][9]){xa(C[5]);var Sa=[fs.gxr(Ca[Va].msg),Ca[Va][3],Ha.color],di=lib.h(x({p:Sa})),ni=Ha.HN.el[0];gs(di,Ca[Va].message_id,Ha,Ea,ni,Ma,Pa)}else{xa(C[5]);var Sa=[fs.gxr(Ca[Va].msg),Ca[Va][3],Ha.color],Xa=x({p:Sa});xa(C[4]);var Sa=[Xa],Ba=lib.h(x({p:Sa}));Ha.HN.e=!0,Ha.HN.id=Ca[Va][9],Ha.HN.el=lib.j(Ba,[xe[15]]),Oa=!0}Oa&&gs(Ba,Ca[Va].message_id,Ha,Ea,$a,Ma,Pa)}},Is=function(Ca,Ha,Ea,Ma){var Va,Pa=Pa||{},wa=Ea.el,$a=[];lib.listen(Ca,Ha,function(Oa){var Sa=this,Ba=Oa.keyCode||Oa.charCode;if((8==Ba||46==Ba)&&0==Sa.value.length){var Ka=Ea.Vx.length;1<Ka?--Ka:1==Ka&&(Ka=0),0<Ea.Vx.length?(Ea.Vx[Ka][4].parentNode.removeChild(Ea.Vx[Ka][4]),Ea.Vx.splice(Ka,1)):Sa.style.width='148px'}clearTimeout(Ws),Ws=setTimeout(function(){for(var Da=[],Aa=0;Aa<Ea.Vx.length;Aa++)Da.push(Ea.Vx[Aa][2]);for(var za=$a.length;za--;)$a[za].abort(),$a.splice(za,1);if(Va instanceof Element&&null!=Va&&(Va.parentNode.removeChild(Va),Va=null),mt(Sa),!Ye(Sa.value)){var Ia=lib.$('friend.php','find='+Sa.value+'&'+ve(Da)+'&chat_id='+Ea.chat_id,'post',function(Xa){var Ra=JSON.parse(Xa);Ea.VXI=Ra.friend_name;var Wa=Ra.data;if(0<Wa.length){Pa={};var qa='';for(var Ja in Wa){Pa[Ja]=Wa[Ja],xa(M[1]);var Fa=[Wa[Ja].fname,Wa[Ja].lname,Wa[Ja].image];qa+=x({p:Fa})}xa(M[0]);var Ua=lib.q(wa[10]),Za=lib.q(Sa),Fa=[qa,Za.left,Za.left-Ua.left,Za.top-Ua.top+Sa.offsetHeight];Va=lib.h(x({p:Fa}));var Ga=lib.j2(Va,ce)[0];for(var Qa in Ga)Pa[Qa].ht=Ga[Qa],lib.listen(Ga[Qa],'click',function(){var ti=Qa,si=this;return function(){Va.parentNode.removeChild(Va),Va=null,Sa.value='',Sa.focus(),mt(Sa),xa(M[2]);var ai=[Pa[ti].fname,Pa[ti].lname,Pa[ti].id,Pa[ti].emoji],ii=lib.h(x({p:ai})),li=lib.j(ii,ce);lib.listen(li[1],'click',function(){var di=Pa[ti].id;return function(){ii.parentNode.removeChild(ii);for(var ri=0;ri<Ea.Vx.length;ri++)Ea.Vx[ri][2]==di&&Ea.Vx.splice(ri,1)}}()),Ma[2].appendChild(ii),ai.push(ii),Ea.Vx.push(ai)}}(Ba));wa[10].appendChild(Va)}});$a.push(Ia)}},300)})},Vs=function(Ca,Ha,Ea){Ca.classList.toggle('open');var Ma=Ca.files.length;if(1<Ma){var Pa,wa,$a=2,Va='<tr class="_51mx">';0==Ma%2&&4>=Ma&&(Pa=wa=89,$a=1),1==Ma%2&&(Pa=wa=59),4<Ma&&(Pa=wa=59);for(var Oa=0,Sa=0;Oa<Ma;Oa++,Sa++){xa(V[1]);var Ba=[Pa,wa];Va+=x({p:Ba}),(Sa==$a||Oa==Ma-1)&&(Va+='</tr>',Oa!=Ma-1&&(Va+='<tr class="_51mx">'),Sa=-1)}xa(V[0]);var Ba=[Va,'3:12pm'],Ka=x({p:Ba});xa(C[4]);var Ba=[Ka],Da=lib.h(x({p:Ba}));ss(Ea,Ma,Ca,Da)}else if(1==Ma)if(!Ca.files[0].name.match(/\.(jpg|jpeg|png|gif)$/)){xa(V[2]);var Ba=['','2017'],Aa=x({p:Ba});xa(C[4]);var Ba=[Aa],Da=lib.h(x({p:Ba}));ss(Ea,Ma,Ca,Da)}else{var za=new Image;za.onload=function(){var Ia=Fs(this.width,this.height,Es,bs);xa(V[2]);var Xa=['width:'+Ia.width+'px;height:'+Ia.height+'px','2017'],Ra=x({p:Xa});xa(C[4]);var Xa=[Ra],Wa=lib.h(x({p:Xa}));ss(Ea,Ma,Ca,Wa)},za.src=window.URL.createObjectURL(Ca.files[0])}},ss=function(Ca,Ha,Ea,Ma){var Pa=new FormData;Pa.append('chat_id',Ca.chat_id);for(var wa=0;wa<Ha;wa++)Ss(Pa,Ea.files[wa]);if(Ca.el[30].innerText='',null!=Ca.chat_id){var $a=lib.j(Ma,['_5wd4']);ts(Pa,Ma,Ca,$a)}else{var Va=Object.keys(Ca.Nx.data).length;Ca.Nx.data['x'+Va]={type:2,a:Pa,htm:Ma,el:$a},Ca.Nx.e||ps(Ca)}},Ds=function(Ca,Ha){if(Ha)var Ma=0;else{var Ma=30;Ca.classList.remove(xe[24])}var Pa=setInterval(function(){Ha?Ma++:Ma--,Ca.style.bottom=Ma+'px',Ha&&20<=Ma?Ca.style.opacity=0:!Ha&&20>=Ma&&(Ca.style.opacity=1),(30<=Ma||0>=Ma)&&(clearInterval(Pa),Ha&&(Ca.classList.add(xe[24]),Ca.innerHTML=''))},5)},vt=function(Ca,Ha){for(var Ea in Ha)if(Ha[Ea].user_id==Ca)return Ha[Ea];return!1},fa=function(Ca){va.classList.remove(xe[24]),xa(Q);var Ha=1==Ca.Mx,Ea=[fs.gxr(ye(Ca.fname,Ca.lname)),Ca.emoji[0].path,Ha,Ca.color,Ca.status,Ca.chat_id,Ca.bk,Ca.mu],Ma=lib.h(x({p:Ea}));va.firstChild?va.insertBefore(Ma,va.firstChild):va.appendChild(Ma);var Pa=Object.keys(Gs).length+Object.keys(Qs).length,wa=lib.j(Ma,le);Gs['o'+Pa]={},Gs['o'+Pa].id=Ca.id,Gs['o'+Pa].fname=Ca.fname,Gs['o'+Pa].lname=Ca.lname,Gs['o'+Pa].key=Ca.key,Gs['o'+Pa].type=!0,Gs['o'+Pa].tab=Ma,Gs['o'+Pa].msg={},Gs['o'+Pa].tabs=Ca.tab,Gs['o'+Pa].noti=null,Gs['o'+Pa].emoji=Ca.emoji,Gs['o'+Pa].VXI=null,Gs['o'+Pa].MK=!1,Gs['o'+Pa].rdy=Ca.rdy,Gs['o'+Pa].status=Ca.status,Gs['o'+Pa].color=Ca.color,Gs['o'+Pa].bk=Ca.bk,Gs['o'+Pa].mu=Ca.mu,Gs['o'+Pa].Kl=!1,Gs['o'+Pa].chat_id=Ca.chat_id,Gs['o'+Pa].el=wa,Gs['o'+Pa].Mx=Ca.Mx,Gs['o'+Pa].Nx={e:!1,data:{}},Gs['o'+Pa].NO=null,Gs['o'+Pa].HN={e:!1},Gs['o'+Pa].offset=0,Gs['o'+Pa].r=0,Gs['o'+Pa].rs=Ca.rs,Gs['o'+Pa].AB=!0,Gs['o'+Pa].Ti=null,Gs['o'+Pa].Li={},Gs['o'+Pa].Vt=!0,Gs['o'+Pa].VK=!0,Gs['o'+Pa].Vx=[],1==Ca.mu&&(ns(Gs['o'+Pa].chat_id),setTimeout(function(){Ds(Gs['o'+Pa].el[15],!0)},4e3)),1==Ca.bk&&ds(Gs['o'+Pa].chat_id),Pe(Gs['o'+Pa]),et(Gs['o'+Pa]),function(Oa){var Sa,Ba=eval,Ka=new Audio,Aa=['media/a6onsWOBhsg.mp3','media/XyTteqB51ob.mp3','media/1Vcznk-uUR-.mp3'];Sa=function(za){var Ia,Ra,Wa,Xa=!0,qa=0.5;za.el.addEventListener('mouseup',function(){Xa&&(Ka.src=Aa[0],Ka.play(),za.pa.removeChild(Ra),za.e(qa),clearTimeout(Ia),clearInterval(Wa))}),za.el.addEventListener('mousedown',function(){var Fa=0,Ua=0.1,Za=10,Ga=!1,Qa=0.05;Xa=!0,qa=0.5;var ti=[za.src.emoji[Gs['o'+Pa].emoji.length-1].path,'2017'];Ba('var x = o=>`<div class="_5wd4 _1nc6 _2_-t direction_ltr"><div class="_h8t"><div class="_5wd9" data-tooltip-content="${o.p[0]}"><div class="_4a9g _383m _f99" style="background-image: url(${o.p[0]});width: 64px;height: 64px;transform: matrix3d(0.5, 0, 0, 0, 0,0.5, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1);"></div></div></div></div>`');var si=x({p:ti});Ba(C[4]);var ti=[si];Ra=lib.h(x({p:ti}));var ai=Ys(Ra,['_4a9g'])[0];za.pa.appendChild(Ra),za.k(),Wa=setInterval(function(){0.8>=qa&&(Ua=0.1,Za=10,Qa=0),0.7<qa&&(Ua=0.1,Za=11,Qa=0.033),0.85<qa&&(Ua=0.3,Za=11,Qa=0.055),Ga?(Fa<=-Ua&&(Ga=!1),Fa-=Qa):(Fa>=Ua&&(Ga=!0),Fa+=Qa),ai.style.transform='matrix3d('+qa+',  '+Fa+', 0, 0, '+-Fa+', '+qa+', 0, 0, 0, 0, 1, 0, 0, 0, 0, 1)',qa+=0.0017},Za),Ka.src=Aa[1],Ka.play(),Ia=setTimeout(function(){Ka.src=Aa[2],Ka.play(),za.pa.removeChild(Ra),clearInterval(Wa),Xa=!1},2950)})},Oa.st=function(za){Sa(za)}}(Gs['o'+Pa]),Gs['o'+Pa].st({el:wa[23],pa:wa[5],src:Gs['o'+Pa],e:function(Oa){var Sa=0;0.58>=Oa?Sa=0:0.78>=Oa?Sa=1:0.78<Oa&&(Sa=2);var Ba=[Gs['o'+Pa].emoji[Sa]];xa($[1]);var Ka=x();xa(B[3]);var Da=lib.h(x({p:['',Ka]})),Aa=lib.j(Da,pe);if(Aa[0].appendChild(lib.h('<div  class="_2poz _ui9 _383m" tabindex="0"><img class="_19_s _1ift img" src="'+Gs['o'+Pa].emoji[Sa].path+'" alt=""></div>')),wa[30].innerText='',null!=Gs['o'+Pa].chat_id){var za=lib.j(Da,['_5wd4']);Qt(Gs['o'+Pa],Sa,Da,za)}else{var Ia=Object.keys(Gs['o'+Pa].Nx.data).length;Gs['o'+Pa].Nx.data['x'+Ia]={type:1,a:Sa,htm:Da,el:za},Gs['o'+Pa].Nx.e||ps(Gs['o'+Pa])}},k:function(){wa[2].scrollTop=wa[2].scrollHeight}}),lib.$('load.php','chat_id='+Gs['o'+Pa].chat_id,'POST',function(Oa){if(Gs['o'+Pa]){var Sa=JSON.parse(Oa);Gs['o'+Pa].offset=Sa.offset,Gs['o'+Pa].chat_id=Sa.chat_id,Ks(Sa.r,Gs['o'+Pa],!1,!1,null,!1),Gs['o'+Pa].el[2].scrollTop=Gs['o'+Pa].el[2].scrollHeight}}),wa[21].addEventListener('click',function(){Rs(Pa)},!1),wa[22].addEventListener('click',function(Oa){Rs(Pa),Oa.stopPropagation()},!1),wa[1].addEventListener('click',function(Oa){Gs['o'+Pa].MK?(Gs['o'+Pa].MK=!1,this.parentNode.classList.remove(xe[41])):!Gs['o'+Pa].MK&&(Qe(Oa),Gs['o'+Pa].MK=!0,this.parentNode.classList.add(xe[41])),Oa.stopPropagation()},!1),wa[33].addEventListener('click',function(Oa){qt(Gs['o'+Pa]),Oa.stopPropagation()},!1),wa[14].addEventListener('click',function(Oa){qt(Gs['o'+Pa]),Oa.stopPropagation()},!1),wa[2].addEventListener('scroll',function(){if(0===this.scrollTop&&Gs['o'+Pa].AB){var Sa=qs(Gs['o'+Pa].offset,10);Gs['o'+Pa].el[9].classList.remove(xe[24]),lib.$('ms_info.php','chat_id='+Gs['o'+Pa].chat_id+'&length='+Sa[1]+'&start='+Sa[0],'POST',function(Ba){Gs['o'+Pa].el[9].classList.add('hidden_elem');var Ka=JSON.parse(Ba);Gs['o'+Pa].offset=Ka.offset,Ks(Ka.r,Gs['o'+Pa],!0,!1,null,!1),0<Ka.r.length&&(Gs['o'+Pa].el[2].scrollTop=30*(Gs['o'+Pa].el[2].scrollHeight/Gs['o'+Pa].el[2].offsetHeight)),0==Gs['o'+Pa].offset&&(Gs['o'+Pa].AB=!1,Gs['o'+Pa].el[9].classList.add(xe[24]))})}},!1),wa[31].addEventListener('click',function(Oa){Oa.stopPropagation(),et(Gs['o'+Pa]),_s(Gs['o'+Pa])}),wa[3].addEventListener('keypress',function(){this;Gs['o'+Pa].Kl||(Gs['o'+Pa].Kl=!0,setTimeout(function(){Gs['o'+Pa].Kl=!1},8e3),lib.$('type.php','id='+Gs['o'+Pa].chat_id,'POST',function(){}))}),Ns(wa[3],'keyup',Gs['o'+Pa]),Ns(wa[3],'cut',Gs['o'+Pa]),Ns(wa[3],'paste',Gs['o'+Pa]),Ns(wa[3],'drop',Gs['o'+Pa]);var $a=fs.regx(wa[3],function(Oa){wa[25].classList.remove(xe[24]),wa[25].innerHTML=ee[2],wa[26].style.height=js-wa[25].offsetHeight+'px';var Sa=lib.j(wa[25],['_tij']);lib.listen(Sa[0],'click',function(){wa[25].classList.add(xe[24]),wa[25].innerHTML='',Hs(js,wa[26])}),lib.$('parse.php','url='+Oa,'POST',function(Ba){wa[25].innerHTML=$s(JSON.parse(Ba)),Hs(js-wa[25].offsetHeight,wa[26]);var Ka=lib.j(wa[25],['_tij']);lib.listen(Ka[0],'click',function(){wa[25].classList.add(xe[24]),wa[25].innerHTML='',Hs(js,wa[26])})})});if(wa[3].addEventListener('keydown',function(Oa){if(13===Oa.keyCode&&!Oa.shiftKey){Oa.preventDefault();var Sa=$a.gval();xa(C[5]);var Ba=[Sa,'',Gs['o'+Pa].color],Ka=x({p:Ba});if(!Ye(Sa))if(null!=Gs['o'+Pa].chat_id)is(Sa,Gs['o'+Pa],Ka);else{var Da=Object.keys(Gs['o'+Pa].Nx.data).length;Gs['o'+Pa].Nx.data['x'+Da]={type:4,txt:Sa,xx:Ka},Gs['o'+Pa].Nx.e||ps(Gs['o'+Pa])}wa[2].scrollTop=wa[2].scrollHeight,this.innerText=''}},!1),wa[6].addEventListener('click',function(Oa){Xs(Ma),Oa.stopPropagation()},!1),wa[20].addEventListener('click',function(Oa){Xs(Ma),Oa.stopPropagation()},!1),'undefined'!=typeof wa[42]&&wa[42].addEventListener('click',function(Oa){Ve(Ca),Oa.stopPropagation()}),'undefined'!=typeof wa[7]&&wa[7].addEventListener('click',function(Oa){if(Ca.rdy){var Sa=window.open('videocall/incall/?peer_id='+Ca.id,'ggggggggggggggggg','height=600,width=700');Sa.onload=function(){Ts[0]=!0,Ts[1]=Ca.id,Sa.TF({id:Ca.id,t:!0,caller:!1},la,Ts),Sa.fs.KN(la,Ts),Sa.fs.l(Ca.id,!0)}}Oa.stopPropagation()}),wa[24].addEventListener('change',function(Oa){Vs(this,wa,Gs['o'+Pa]),Oa.stopPropagation()},!1),wa[13].addEventListener('change',function(Oa){Vs(this,wa,Gs['o'+Pa]),Oa.stopPropagation()},!1),wa[32].addEventListener('change',function(Oa){Vs(this,wa,Gs['o'+Pa]),Oa.stopPropagation()},!1),wa[34].addEventListener('click',function(Oa){var Sa=lib.h(te[5]);document.body.appendChild(Sa);var Ba=lib.j(Sa,ge);lib.$('php/changeColor.php','chat_id='+Gs['o'+Pa].chat_id,'POST',function(Ka){var Da=JSON.parse(Ka);Ba[1].style.width='355px',Ba[0].innerHTML=Da.ht,Kt(Da.src);var Aa=new Function(Da.js);Aa(Sa,Gs['o'+Pa],Da.color,Da.nt)}),Oa.stopPropagation()},!1),wa[41].addEventListener('click',function(Oa){var Sa=lib.h(te[5]);document.body.appendChild(Sa);var Ba=lib.j(Sa,ge);lib.$('php/changeEmoji.php','type=0&chat_id='+Gs['o'+Pa].chat_id,'POST',function(Ka){var Da=JSON.parse(Ka);Ba[1].style.width='355px',Ba[0].innerHTML=Da.ht,Kt(Da.src);var Aa=new Function(Da.js);Aa(Sa,Gs['o'+Pa],Da.emoji,Da.nt)}),Oa.stopPropagation()},!1),wa[35].addEventListener('click',function(Oa){this;if(1==Gs['o'+Pa].mu)Zt(Gs['o'+Pa],function(Da){Ft(Gs['o'+Pa].chat_id,Da)});else{var Ba=lib.h(te[5]);document.body.appendChild(Ba);var Ka=lib.j(Ba,ge);lib.$('php/mute.php','type=0','post',function(Da){var Aa=JSON.parse(Da);Ka[1].style.width='445px',Ka[0].innerHTML=Aa.ht,Kt(Aa.src);var za=new Function(Aa.js);za(Ba,Gs['o'+Pa],ns)})}Oa.stopPropagation()},!1),wa[36]&&wa[36].addEventListener('click',function(Oa){lib.$('php/leave.php','chat_id='+Gs['o'+Pa].chat_id,'post',function(Sa){var Ba=JSON.parse(Sa);Ba.status&&_a(Gs['o'+Pa])}),Oa.stopPropagation()},!1),wa[16]&&wa[16].addEventListener('click',function(Oa){if(Gs['o'+Pa].VK){Gs['o'+Pa].VK=!1;xa(ae[2]),wa[15].innerHTML=x({p:['Name the conversation']});var Ba=lib.j(wa[15],[xe[28],xe[29]]);Ba[1].addEventListener('click',function(Ka){Ka.stopPropagation(),Gs['o'+Pa].VK=!0,Ds(wa[15],!0),lib.$('changeName.php','chat_id='+Gs['o'+Pa].chat_id+'&name='+Ba[0].value,'post',function(){})}),Ds(wa[15],!1)}Oa.stopPropagation()}),wa[37]&&wa[37].addEventListener('click',function(Oa){var Sa=lib.h(te[5]);document.body.appendChild(Sa);var Ba=lib.j(Sa,ge);lib.$('php/participants.php','chat_id='+Gs['o'+Pa].chat_id,'post',function(Ka){var Da=JSON.parse(Ka);Ba[1].style.width='445px',Ba[0].innerHTML=Da.ht,Kt(Da.src),fs.ro(Ba[0]);var Aa=new Function(Da.js);Aa(Sa,Gs['o'+Pa],Da.users,Da.user_id)}),Oa.stopPropagation()},!1),wa[38]&&wa[38].addEventListener('click',function(Oa){this;if(1==Gs['o'+Pa].bk)Ut(Gs['o'+Pa],function(Da){Jt(Gs['o'+Pa].chat_id,Da)});else{var Ba=lib.h(te[5]);document.body.appendChild(Ba);var Ka=lib.j(Ba,ge);lib.$('php/block.php','type=0&chat_id='+Gs['o'+Pa].chat_id,'post',function(Da){var Aa=JSON.parse(Da);Ka[1].style.width='445px',Ka[0].innerHTML=Aa.ht,Kt(Aa.src);var za=new Function(Aa.js);za(Ba,Gs['o'+Pa],ds)})}Oa.stopPropagation()},!1),wa[39]&&wa[39].addEventListener('click',function(Oa){var Sa=lib.h(te[5]);document.body.appendChild(Sa);var Ba=lib.j(Sa,ge);lib.$('php/report.php','chat_id='+Gs['o'+Pa].chat_id,'post',function(Ka){var Da=JSON.parse(Ka);Ba[1].style.width='445px',Ba[0].innerHTML=Da.ht,Kt(Da.src);var Aa=new Function(Da.js);Aa(Sa)}),Oa.stopPropagation()},!1),wa[40].addEventListener('click',function(Oa){lib.$('php/delete.php','chat_id='+Gs['o'+Pa].chat_id,'post',function(Sa){var Ba=JSON.parse(Sa);!0==Ba.status&&_a(Gs['o'+Pa])}),Oa.stopPropagation()},!1),wa[12].addEventListener('click',function(Oa){var Sa=this;fs.clickeds(),fs.clicked(),fs.gf(this,wa[10],function(Ba,Ka){xa(B[1]);var Da=Ka.height/Ka.width,Aa=170,Ia=[Ka.path,Aa,Aa*Da],Xa=x({p:Ia});xa(B[3]);var Ia=['',Xa],Ra=lib.h(x({p:Ia}));if(wa[30].innerText='',null!=Gs['o'+Pa].chat_id){var Wa=lib.j(Ra,['_5wd4']);Yt(Gs['o'+Pa],Ka,Ra,Wa)}else{var qa=Object.keys(Gs['o'+Pa].Nx.data).length;Gs['o'+Pa].Nx.data['x'+qa]={type:3,a:Ka,htm:Ra,el:Wa},Gs['o'+Pa].Nx.e||ps(Gs['o'+Pa])}},function(){Sa.classList.add('open')},function(){Sa.classList.remove('open')}),Oa.stopPropagation()},!1),wa[11].addEventListener('click',function(Oa){var Sa=this;fs.clicked(),fs.clickede(),wa[3].focus(),fs.xt(this,wa[10],function(Ba,Ka){Ue(Gs['o'+Pa]),$a.update(Ka.sign)},function(){Sa.classList.add('open')},function(){Sa.classList.remove('open')}),Oa.stopPropagation()},!1),wa[8].addEventListener('click',function(Oa){var Sa=this;fs.clickeds(),fs.clickede(),fs.it(this,wa[10],function(Ba,Ka){xa($[0]);var Da=['3:55 Am'],Da=[x({p:Da})];xa(C[4]);var Aa=lib.h(x({p:Da})),za=lib.j(Aa,pe);if(za[0].appendChild(Ba),Gs['o'+Pa].el[30].innerText='',null!=Gs['o'+Pa].chat_id){var Ia=lib.j(Aa,['_5wd4']);Gt(Gs['o'+Pa],Ka,Aa,Ia)}else{var Xa=Object.keys(Gs['o'+Pa].Nx.data).length;Gs['o'+Pa].Nx.data['x'+Xa]={type:0,a:Ka,htm:Aa,el:Ia},Gs['o'+Pa].Nx.e||ps(Gs['o'+Pa])}},function(){Sa.classList.add('open')},function(){Sa.classList.remove('open')},function(){alert('store was clicked')}),Oa.stopPropagation()},!1),2<=Object.keys(Gs).length){var Va=Object.keys(Gs).slice(-2)[0];ma(Va)}else ma(!1);return Gs['o'+Pa]},_a=function(Ca){var Ha=Ca.chat_id,Ea=sa(Ha),Ma=_t(Ha),Pa=ia(Ha);if(!1!==Ea)for(var wa in Ea.tab.parentNode.removeChild(Ea.tab),Gs)Gs[wa].key==Ea.key&&delete Gs[wa];if(!1!==Pa){var $a=Pa[1];for(var wa in $a.tab.parentNode.removeChild($a.tab),$a.ht.parentNode.removeChild($a.ht),Qs)Qs[wa].key==$a.key&&delete Qs[wa]}if(!1!==Ma)for(var wa in Ma.tab.parentNode.removeChild(Ma.tab),Ct)Ct[wa].tab==Ct.tab&&delete Ct[wa]},ha=function(Ca){if(lib.$('callfriend2.php?friend_id='+Ca.id,'type=1','POST',function(){},function(){}),!0==Ca.ability){var Ha=lib.h(Ca.ht);document.body.appendChild(Ha);var Ea=document.createElement('audio');Ea.src='media/taJw7SpZVz2.mp3',Ea.play(),Ea.loop=!0;var Ma=Ys(Ha,['layerCancel'])[0];Ma.addEventListener('click',function(){Ts[0]=!1,Ts[1]=null,Ea.pause(),Ha.parentNode.removeChild(Ha),lib.$('callfriend2.php?friend_id='+Ca.id,'type=2','POST',function(){},function(){})});var Pa=lib.j2(Ha,['layerCancel'])[0][1];Pa.addEventListener('click',function(){Ts[0]=!1,Ts[1]=null,Ea.pause(),Ha.parentNode.removeChild(Ha),lib.$('callfriend2.php?friend_id='+Ca.id,'type=2','POST',function(){},function(){})});var wa=Ys(Ha,['layerConfirm'])[0];wa.addEventListener('click',function(){var $a;Ea.pause(),Ha.parentNode.removeChild(Ha),$a=window.open('videocall/incall?peer_id='+Ca.id,'buffycode video call','height=600,width=700'),$a.onload=function(){$a.TF({id:[Ca.id],t:Ca.vid,caller:!0},la,Ts),$a.fs.KN(la,Ts)}})}},ma=function(Ca){if(!0==Ta&&(15>=ka.getBoundingClientRect().left?ka.classList.remove('swapDirection'):ka.getBoundingClientRect().left>ka.offsetWidth&&ka.classList.add('swapDirection')),0<Object.keys(Gs).length){for(;0<Object.keys(Qs).length&&265<Gs[Object.keys(Gs)[Object.keys(Gs).length-1]].tab.getBoundingClientRect().left;)ga(),oa();for(;0<Object.keys(Gs).length&&60>=Gs[Object.keys(Gs)[Object.keys(Gs).length-1]].tab.getBoundingClientRect().left;)ua(Ca),Ca=!!(2<=Object.keys(Gs).length)&&(Ca=Object.keys(Gs).slice(-2)[0]),oa()}},oa=function(){var Ca=Object.keys(Qs).length;0<Ca?(9<Ca&&(Ca='+9'),ya.classList.remove(xe[24]),ya.getElementsByTagName('span')[0].innerText=Ca,ja.style.height=22*Ca+'px'):(ya.classList.add(xe[24]),ya.getElementsByTagName('span')[0].innerText=Ca)},ua=function(Ca){var Ca=!1===Ca?Object.keys(Gs)[Object.keys(Gs).length-1]:Ca;if(Ca&&'undefined'!=typeof Gs[Ca]){var Ha=lib.h('<li class="uiMenuItem _51ju"><a class="itemAnchor" role="menuitem" tabindex="0" href="#"><span class="itemLabel fsm"><div class="clearfix"><label class="rfloat _ohf uiCloseButton uiCloseButtonSmall" for="u_0_5y"><input class="_rmv" aria-label="Remove" title="Remove" type="button"  ></label><div class="_51jv"><span class="unreadCount invisible_elem">0</span><span><span ><span >'+ye(Gs[Ca].fname,Gs[Ca].lname)+'</span></span></span></div></div></span></a></li>');ba.appendChild(Ha);var Ea=lib.j(Ha,he);Ea[2].addEventListener('click',function(){for(var Pa in ua(!1),Qs)Qs[Pa].ht===this.parentNode&&ga(Pa)});Ha.getElementsByTagName('input')[0];Ea[0].addEventListener('click',function(Pa){for(var wa in Ha.parentNode.removeChild(Ha),Qs)Qs[wa].ht===Ha&&delete Qs[wa];oa(),Pa.stopPropagation(),Pa.preventDefault()}),Gs[Ca].tab.classList.add(xe[24]),Qs[Ca]={},Qs[Ca]=Gs[Ca],Qs[Ca].eli=Ea,Qs[Ca].ht=Ha,delete Gs[Ca]}},ga=function(Ca){Ca='undefined'==typeof Ca?Object.keys(Qs)[Object.keys(Qs).length-1]:Ca;var Ha=Object.keys(Gs)[Object.keys(Gs).length-1];Ha&&Qs[Ca].tab.parentNode.insertBefore(Qs[Ca].tab,Gs[Ha].tab),Qs[Ca].tab.classList.remove(xe[24]),Gs[Ca]={},Gs[Ca]=Qs[Ca],Qs[Ca].ht.parentNode.removeChild(Qs[Ca].ht),_s(Gs[Ca]),delete Qs[Ca]},g.t=function(Ca){na(Ca)},g.ms=function(Ca,Ha){ra(Ca,Ha,!1)},g.JL=function(Ca){Qe(Ca)},g.od=function(){return!0}})(fs),document.addEventListener('click',function(g){fs.JL(g)}),fs.t();

/******end****/